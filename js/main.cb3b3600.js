/*! For license information please see main.cb3b3600.js.LICENSE.txt */
(()=>{var t={21:(t,e,i)=>{"use strict";t.exports=i.p+"assets/24.png"},77:(t,e,i)=>{"use strict";t.exports=i.p+"assets/3.png"},111:(t,e,i)=>{"use strict";t.exports=i.p+"assets/21.png"},125:(t,e,i)=>{"use strict";t.exports=i.p+"assets/23.png"},171:(t,e,i)=>{"use strict";t.exports=i.p+"assets/5.png"},188:(t,e,i)=>{var n={"./1.png":295,"./10.png":495,"./11.png":270,"./12.png":277,"./13.png":740,"./14.png":611,"./15.png":402,"./16.png":985,"./17.png":856,"./18.png":807,"./19.png":790,"./2.png":564,"./20.png":566,"./21.png":111,"./22.png":644,"./23.png":125,"./24.png":21,"./3.png":77,"./4.png":410,"./5.png":171,"./6.png":680,"./7.png":393,"./8.png":590,"./9.png":335};function o(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=s,t.exports=o,o.id=188},270:(t,e,i)=>{"use strict";t.exports=i.p+"assets/11.png"},277:(t,e,i)=>{"use strict";t.exports=i.p+"assets/12.png"},295:(t,e,i)=>{"use strict";t.exports=i.p+"assets/1.png"},335:(t,e,i)=>{"use strict";t.exports=i.p+"assets/9.png"},393:(t,e,i)=>{"use strict";t.exports=i.p+"assets/7.png"},402:(t,e,i)=>{"use strict";t.exports=i.p+"assets/15.png"},410:(t,e,i)=>{"use strict";t.exports=i.p+"assets/4.png"},481:function(t,e){!function(t){"use strict";function e(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(e in o=arguments[i])t[e]=o[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function n(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var o=0;function s(t){return"_leaflet_id"in t||(t._leaflet_id=++o),t._leaflet_id}function r(t,e,i){var n,o,s,r;return r=function(){n=!1,o&&(s.apply(i,o),o=!1)},s=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(r,e),n=!0)},s}function a(t,e,i){var n=e[1],o=e[0],s=n-o;return t===n&&i?t:((t-o)%s+s)%s+o}function l(){return!1}function c(t,e){if(!1===e)return t;var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function u(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function _(t,e){return t.replace(m,function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}var f=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function y(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function b(t){var e=+new Date,i=Math.max(0,16-(e-w));return w=e+i,window.setTimeout(t,i)}var x=window.requestAnimationFrame||y("RequestAnimationFrame")||b,z=window.cancelAnimationFrame||y("CancelAnimationFrame")||y("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function k(t,e,i){if(!i||x!==b)return x.call(window,n(t,e));t.call(e)}function P(t){t&&z.call(window,t)}var T={__proto__:null,extend:e,create:i,bind:n,get lastId(){return o},stamp:s,throttle:r,wrapNum:a,falseFn:l,formatNum:c,trim:h,splitWords:d,setOptions:u,getParamString:p,template:_,isArray:f,indexOf:g,emptyImageUrl:v,requestFn:x,cancelFn:z,requestAnimFrame:k,cancelAnimFrame:P};function S(){}S.extend=function(t){var n=function(){u(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,s=i(o);for(var r in s.constructor=n,n.prototype=s,this)Object.prototype.hasOwnProperty.call(this,r)&&"prototype"!==r&&"__super__"!==r&&(n[r]=this[r]);return t.statics&&e(n,t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=f(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[s].concat(t.includes))),e(s,t),delete s.statics,delete s.includes,s.options&&(s.options=o.options?i(o.options):{},e(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=s._initHooks.length;t<e;t++)s._initHooks[t].call(this)}},n},S.include=function(t){var i=this.prototype.options;return e(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},S.mergeOptions=function(t){return e(this.prototype.options,t),this},S.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var E={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,s=(t=d(t)).length;o<s;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(arguments.length)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else{t=d(t);for(var o=1===arguments.length,s=0,r=t.length;s<r;s++)o?this._off(t[s]):this._off(t[s],e,i)}else delete this._events;return this},_on:function(t,e,i,n){if("function"==typeof e){if(!1===this._listens(t,e,i)){i===this&&(i=void 0);var o={fn:e,ctx:i};n&&(o.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(o)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,i){var n,o,s;if(this._events&&(n=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var r=this._listens(t,e,i);if(!1!==r){var a=n[r];this._firingCount&&(a.fn=l,this._events[t]=n=n.slice()),n.splice(r,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(o=0,s=n.length;o<s;o++)n[o].fn=l;delete this._events[t]}},fire:function(t,i,n){if(!this.listens(t,n))return this;var o=e({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,a=s.length;r<a;r++){var l=s[r],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,e,i,n){"string"!=typeof t&&console.warn('"string" type argument expected');var o=e;"function"!=typeof e&&(n=!!e,o=void 0,i=void 0);var s=this._events&&this._events[t];if(s&&s.length&&!1!==this._listens(t,o,i))return!0;if(n)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e,i,n))return!0;return!1},_listens:function(t,e,i){if(!this._events)return!1;var n=this._events[t]||[];if(!e)return!!n.length;i===this&&(i=void 0);for(var o=0,s=n.length;o<s;o++)if(n[o].fn===e&&n[o].ctx===i)return o;return!1},once:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e,!0);else for(var o=0,s=(t=d(t)).length;o<s;o++)this._on(t[o],e,i,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};E.addEventListener=E.on,E.removeEventListener=E.clearAllEventListeners=E.off,E.addOneTimeEventListener=E.once,E.fireEvent=E.fire,E.hasEventListeners=E.listens;var M=S.extend(E);function C(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var A=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function j(t,e,i){return t instanceof C?t:f(t)?new C(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new C(t.x,t.y):new C(t,e,i)}function I(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function O(t,e){return!t||t instanceof I?t:new I(t,e)}function Z(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function B(t,e){return t instanceof Z?t:new Z(t,e)}function D(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function N(t,e,i){return t instanceof D?t:f(t)&&"object"!=typeof t[0]?3===t.length?new D(t[0],t[1],t[2]):2===t.length?new D(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new D(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new D(t,e,i)}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(t){return this.clone()._add(j(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(j(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new C(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new C(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=A(this.x),this.y=A(this.y),this},distanceTo:function(t){var e=(t=j(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=j(t)).x===this.x&&t.y===this.y},contains:function(t){return t=j(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},I.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof C||"number"==typeof t[0]||"x"in t)e=i=j(t);else if(e=(t=O(t)).min,i=t.max,!e||!i)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=e.clone(),this.max=i.clone()),this},getCenter:function(t){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof C?j(t):O(t))instanceof I?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=O(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>=e.x&&n.x<=i.x,r=o.y>=e.y&&n.y<=i.y;return s&&r},overlaps:function(t){t=O(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>e.x&&n.x<i.x,r=o.y>e.y&&n.y<i.y;return s&&r},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,i=this.max,n=Math.abs(e.x-i.x)*t,o=Math.abs(e.y-i.y)*t;return O(j(e.x-n,e.y-o),j(i.x+n,i.y+o))},equals:function(t){return!!t&&(t=O(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},Z.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof D)e=t,i=t;else{if(!(t instanceof Z))return t?this.extend(N(t)||B(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new D(e.lat,e.lng),this._northEast=new D(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new Z(new D(e.lat-n,e.lng-o),new D(i.lat+n,i.lng+o))},getCenter:function(){return new D((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new D(this.getNorth(),this.getWest())},getSouthEast:function(){return new D(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof D||"lat"in t?N(t):B(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof Z?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=B(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&n.lat<=i.lat,r=o.lng>=e.lng&&n.lng<=i.lng;return s&&r},overlaps:function(t){t=B(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>e.lat&&n.lat<i.lat,r=o.lng>e.lng&&n.lng<i.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},D.prototype={equals:function(t,e){return!!t&&(t=N(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,N(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new D(this.lat,this.lng,this.alt)}};var R,q={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new I(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?a(t.lng,this.wrapLng,!0):t.lng;return new D(this.wrapLat?a(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(0===n&&0===o)return t;var s=t.getSouthWest(),r=t.getNorthEast();return new Z(new D(s.lat-n,s.lng-o),new D(r.lat-n,r.lng-o))}},H=e({},q,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,s=Math.sin((e.lat-t.lat)*i/2),r=Math.sin((e.lng-t.lng)*i/2),a=s*s+Math.cos(n)*Math.cos(o)*r*r,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),F=6378137,W={R:F,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new C(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new D((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(R=F*Math.PI,new I([-R,-R],[R,R]))};function $(t,e,i,n){if(f(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function K(t,e,i,n){return new $(t,e,i,n)}$.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new C((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var U=e({},H,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return K(t,.5,-t,.5)}()}),V=e({},U,{code:"EPSG:900913"});function G(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var i,n,o,s,r,a,l="";for(i=0,o=t.length;i<o;i++){for(n=0,s=(r=t[i]).length;n<s;n++)l+=(n?"L":"M")+(a=r[n]).x+" "+a.y;l+=e?It.svg?"z":"x":""}return l||"M0 0"}var Y,X=document.documentElement.style,Q="ActiveXObject"in window,tt=Q&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),it=jt("webkit"),nt=jt("android"),ot=jt("android 2")||jt("android 3"),st=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=nt&&jt("Google")&&st<537&&!("AudioNode"in window),at=!!window.opera,lt=!et&&jt("chrome"),ct=jt("gecko")&&!it&&!at&&!Q,ht=!lt&&jt("safari"),dt=jt("phantom"),ut="OTransition"in X,pt=0===navigator.platform.indexOf("Win"),mt=Q&&"transition"in X,_t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,ft="MozPerspective"in X,gt=!window.L_DISABLE_3D&&(mt||_t||ft)&&!ut&&!dt,vt="undefined"!=typeof orientation||jt("mobile"),yt=vt&&it,wt=vt&&_t,bt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!bt),zt="ontouchstart"in window||!!window.TouchEvent,kt=!window.L_NO_TOUCH&&(zt||xt),Pt=vt&&at,Lt=vt&&ct,Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,St=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(t){}return t}(),Et=!!document.createElement("canvas").getContext,Mt=!(!document.createElementNS||!G("svg").createSVGRect),Ct=!!Mt&&((Y=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Y.firstChild&&Y.firstChild.namespaceURI)),At=!Mt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function jt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var It={ie:Q,ielt9:tt,edge:et,webkit:it,android:nt,android23:ot,androidStock:rt,opera:at,chrome:lt,gecko:ct,safari:ht,phantom:dt,opera12:ut,win:pt,ie3d:mt,webkit3d:_t,gecko3d:ft,any3d:gt,mobile:vt,mobileWebkit:yt,mobileWebkit3d:wt,msPointer:bt,pointer:xt,touch:kt,touchNative:zt,mobileOpera:Pt,mobileGecko:Lt,retina:Tt,passiveEvents:St,canvas:Et,svg:Mt,vml:At,inlineSvg:Ct,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ot=It.msPointer?"MSPointerDown":"pointerdown",Zt=It.msPointer?"MSPointerMove":"pointermove",Bt=It.msPointer?"MSPointerUp":"pointerup",Dt=It.msPointer?"MSPointerCancel":"pointercancel",Nt={touchstart:Ot,touchmove:Zt,touchend:Bt,touchcancel:Dt},Rt={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Be(e),Ut(t,e)},touchmove:Ut,touchend:Ut,touchcancel:Ut},qt={},Ht=!1;function Ft(t,e,i){return"touchstart"===e&&(Ht||(document.addEventListener(Ot,Wt,!0),document.addEventListener(Zt,$t,!0),document.addEventListener(Bt,Kt,!0),document.addEventListener(Dt,Kt,!0),Ht=!0)),Rt[e]?(i=Rt[e].bind(this,i),t.addEventListener(Nt[e],i,!1),i):(console.warn("wrong event specified:",e),l)}function Wt(t){qt[t.pointerId]=t}function $t(t){qt[t.pointerId]&&(qt[t.pointerId]=t)}function Kt(t){delete qt[t.pointerId]}function Ut(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in e.touches=[],qt)e.touches.push(qt[i]);e.changedTouches=[e],t(e)}}var Vt,Gt,Jt,Yt,Xt,Qt=_e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),te=_e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ee="webkitTransition"===te||"OTransition"===te?te+"End":"transitionend";function ie(t){return"string"==typeof t?document.getElementById(t):t}function ne(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function oe(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function re(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ae(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=pe(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function he(t,e){if(void 0!==t.classList)for(var i=d(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!ce(t,e)){var s=pe(t);ue(t,(s?s+" ":"")+e)}}function de(t,e){void 0!==t.classList?t.classList.remove(e):ue(t,h((" "+pe(t)+" ").replace(" "+e+" "," ")))}function ue(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function pe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function _e(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function fe(t,e,i){var n=e||new C(0,0);t.style[Qt]=(It.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function ge(t,e){t._leaflet_pos=e,It.any3d?fe(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ve(t){return t._leaflet_pos||new C(0,0)}if("onselectstart"in document)Vt=function(){Te(window,"selectstart",Be)},Gt=function(){Ee(window,"selectstart",Be)};else{var ye=_e(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vt=function(){if(ye){var t=document.documentElement.style;Jt=t[ye],t[ye]="none"}},Gt=function(){ye&&(document.documentElement.style[ye]=Jt,Jt=void 0)}}function we(){Te(window,"dragstart",Be)}function be(){Ee(window,"dragstart",Be)}function xe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ze(),Yt=t,Xt=t.style.outlineStyle,t.style.outlineStyle="none",Te(window,"keydown",ze))}function ze(){Yt&&(Yt.style.outlineStyle=Xt,Yt=void 0,Xt=void 0,Ee(window,"keydown",ze))}function ke(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Pe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Le={__proto__:null,TRANSFORM:Qt,TRANSITION:te,TRANSITION_END:ee,get:ie,getStyle:ne,create:oe,remove:se,empty:re,toFront:ae,toBack:le,hasClass:ce,addClass:he,removeClass:de,setClass:ue,getClass:pe,setOpacity:me,testProp:_e,setTransform:fe,setPosition:ge,getPosition:ve,get disableTextSelection(){return Vt},get enableTextSelection(){return Gt},disableImageDrag:we,enableImageDrag:be,preventOutline:xe,restoreOutline:ze,getSizedParentNode:ke,getScale:Pe};function Te(t,e,i,n){if(e&&"object"==typeof e)for(var o in e)Ae(t,o,e[o],i);else for(var s=0,r=(e=d(e)).length;s<r;s++)Ae(t,e[s],i,n);return this}var Se="_leaflet_events";function Ee(t,e,i,n){if(1===arguments.length)Me(t),delete t[Se];else if(e&&"object"==typeof e)for(var o in e)je(t,o,e[o],i);else if(e=d(e),2===arguments.length)Me(t,function(t){return-1!==g(e,t)});else for(var s=0,r=e.length;s<r;s++)je(t,e[s],i,n);return this}function Me(t,e){for(var i in t[Se]){var n=i.split(/\d/)[0];e&&!e(n)||je(t,n,null,null,i)}}var Ce={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ae(t,e,i,n){var o=e+s(i)+(n?"_"+s(n):"");if(t[Se]&&t[Se][o])return this;var r=function(e){return i.call(n||t,e||window.event)},a=r;!It.touchNative&&It.pointer&&0===e.indexOf("touch")?r=Ft(t,e,r):It.touch&&"dblclick"===e?r=function(t,e){t.addEventListener("dblclick",e);var i,n=0;function o(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var o=Ne(t);if(!o.some(function(t){return t instanceof HTMLLabelElement&&t.attributes.for})||o.some(function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement})){var s=Date.now();s-n<=200?2===++i&&e(function(t){var e,i,n={};for(i in t)e=t[i],n[i]=e&&e.bind?e.bind(t):e;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}(t)):i=1,n=s}}}else i=t.detail}return t.addEventListener("click",o),{dblclick:e,simDblclick:o}}(t,r):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ce[e]||e,r,!!It.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,Fe(t,e)&&a(e)},t.addEventListener(Ce[e],r,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,r),t[Se]=t[Se]||{},t[Se][o]=r}function je(t,e,i,n,o){o=o||e+s(i)+(n?"_"+s(n):"");var r=t[Se]&&t[Se][o];if(!r)return this;!It.touchNative&&It.pointer&&0===e.indexOf("touch")?function(t,e,i){Nt[e]?t.removeEventListener(Nt[e],i,!1):console.warn("wrong event specified:",e)}(t,e,r):It.touch&&"dblclick"===e?function(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}(t,r):"removeEventListener"in t?t.removeEventListener(Ce[e]||e,r,!1):t.detachEvent("on"+e,r),t[Se][o]=null}function Ie(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Oe(t){return Ae(t,"wheel",Ie),this}function Ze(t){return Te(t,"mousedown touchstart dblclick contextmenu",Ie),t._leaflet_disable_click=!0,this}function Be(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function De(t){return Be(t),Ie(t),this}function Ne(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function Re(t,e){if(!e)return new C(t.clientX,t.clientY);var i=Pe(e),n=i.boundingClientRect;return new C((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}var qe=It.linux&&It.chrome?window.devicePixelRatio:It.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function He(t){return It.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/qe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Fe(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var We={__proto__:null,on:Te,off:Ee,stopPropagation:Ie,disableScrollPropagation:Oe,disableClickPropagation:Ze,preventDefault:Be,stop:De,getPropagationPath:Ne,getMousePosition:Re,getWheelDelta:He,isExternalTarget:Fe,addListener:Te,removeListener:Ee},$e=M.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=ve(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),ge(this._el,i),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ke=M.extend({options:{crs:U,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=u(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(N(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=te&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,ee,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,n){return i=void 0===i?this._zoom:this._limitZoom(i),t=this._limitCenter(N(t),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=e({animate:n.animate},n.zoom),n.pan=e({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,i,n.pan&&n.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),s=(t instanceof C?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),r=this.containerPointToLatLng(o.add(s));return this.setView(r,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var i=j(e.paddingTopLeft||e.padding||[0,0]),n=j(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var s=n.subtract(i).divideBy(2),r=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(r.add(a).divideBy(2).add(s),o),zoom:o}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=j(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $e,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){he(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!It.any3d)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),o=this.project(t),s=this.getSize(),r=this._zoom;t=N(t),e=void 0===e?r:e;var a=Math.max(s.x,s.y),l=a*this.getZoomScale(r,e),c=o.distanceTo(n)||1,h=1.42,d=2.0164;function u(t){var e=(l*l-a*a+(t?-1:1)*d*d*c*c)/(2*(t?l:a)*d*c),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function m(t){return(Math.exp(t)+Math.exp(-t))/2}var _=u(0);function f(t){return a*(m(_)*(p(e=_+h*t)/m(e))-p(_))/d;var e}var g=Date.now(),v=(u(1)-_)/h,y=i.duration?1e3*i.duration:1e3*v*.8;return this._moveStart(!0,i.noMoveStart),function i(){var s=(Date.now()-g)/y,l=function(t){return 1-Math.pow(1-t,1.5)}(s)*v;s<=1?(this._flyToFrame=k(i,this),this._move(this.unproject(n.add(o.subtract(n).multiplyBy(f(l)/c)),r),this.getScaleZoom(a/function(t){return a*(m(_)/m(_+h*t))}(l),r),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=B(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,B(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=j((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=j(e.paddingBottomRight||e.padding||[0,0]),o=this.project(this.getCenter()),s=this.project(t),r=this.getPixelBounds(),a=O([r.min.add(i),r.max.subtract(n)]),l=a.getSize();if(!a.contains(s)){this._enforcingBounds=!0;var c=s.subtract(a.getCenter()),h=a.extend(s).getSize().subtract(l);o.x+=c.x<0?-h.x:h.x,o.y+=c.y<0?-h.y:h.y,this.panTo(this.unproject(o),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=i.divideBy(2).round(),r=o.divideBy(2).round(),a=s.subtract(r);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),o=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,t):navigator.geolocation.getCurrentPosition(i,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new D(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(o,n.maxZoom):o)}var s={latlng:e,bounds:i,timestamp:t.timestamp};for(var r in t.coords)"number"==typeof t.coords[r]&&(s[r]=t.coords[r]);this.fire("locationfound",s)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=oe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new Z(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=B(t),i=j(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),r=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(i),c=O(this.project(a,n),this.project(r,n)).getSize(),h=It.any3d?this.options.zoomSnap:1,d=l.x/c.x,u=l.y/c.y,p=e?Math.max(d,u):Math.min(d,u);return n=this.getScaleZoom(p,n),h&&(n=Math.round(n/(h/100))*(h/100),n=e?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new C(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new I(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(N(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(j(t),e)},layerPointToLatLng:function(t){var e=j(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(N(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(N(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(N(t),N(e))},containerPointToLayerPoint:function(t){return j(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return j(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(j(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(t)))},mouseEventToContainerPoint:function(t){return Re(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ie(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Te(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,he(t,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ne(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ge(this._mapPane,new C(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(he(t.markerPane,"leaflet-zoom-hide"),he(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){ge(this._mapPane,new C(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,i)._move(t,e)._moveEnd(o),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,n){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),n?i&&i.pinch&&this.fire("zoom",i):((o||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ge(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Ee:Te;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((i=this._targets[s(r)])&&("click"===e||"preclick"===e)&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(o&&!Fe(r,t))break;if(n.push(i),o)break}if(r===this._container)break;r=r.parentNode}return n.length||a||o||!this.listens(e,!0)||(n=[this]),n},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var i=t.type;"mousedown"===i&&xe(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,n){if("click"===t.type){var o=e({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}var s=this._findEventTargets(t,i);if(n){for(var r=[],a=0;a<n.length;a++)n[a].listens(i,!0)&&r.push(n[a]);s=r.concat(s)}if(s.length){"contextmenu"===i&&Be(t);var l=s[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var h=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=h?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=h?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<s.length;a++)if(s[a].fire(i,c,!0),c.originalEvent._stopped||!1===s[a].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ve(this._mapPane)||new C(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return O([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),s=new I(n.subtract(o),n.add(o)),r=this._getBoundsOffset(s,i,e);return Math.abs(r.x)<=1&&Math.abs(r.y)<=1?t:this.unproject(n.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new I(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=O(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),s=n.max.subtract(t.max);return new C(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=It.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=Qt,i=this._proxy.style[e];fe(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();fe(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o)||(k(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,he(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Ue=S.extend({options:{position:"topright"},initialize:function(t){u(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return he(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ve=function(t){return new Ue(t)};Ke.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=oe("div",e+"control-container",this._container);function n(n,o){var s=e+n+" "+e+o;t[n+o]=oe("div",s,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ge=Ue.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in u(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ue.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){he(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(he(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):de(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ze(e),Oe(e);var n=this._section=oe("section",t+"-list");i&&(this._map.on("click",this.collapse,this),Te(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=oe("a",t+"-toggle",e);o.href="#",o.title="Layers",o.setAttribute("role","button"),Te(o,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Be(t),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=oe("div",t+"-base",n),this._separator=oe("div",t+"-separator",n),this._overlaysList=oe("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;re(this._baseLayersList),re(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers_"+s(this),n),this._layerControlInputs.push(e),e.layerId=s(t.layer),Te(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("span");return i.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=i.length-1;s>=0;s--)t=i[s],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||o.push(e);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Te(t,"click",Be),this.expand();var e=this;setTimeout(function(){Ee(t,"click",Be),e._preventClick=!1})}}),Je=Ue.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=oe("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var s=oe("a",i,n);return s.innerHTML=t,s.href="#",s.title=e,s.setAttribute("role","button"),s.setAttribute("aria-label",e),Ze(s),Te(s,"click",De),Te(s,"click",o,this),Te(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";de(this._zoomInButton,e),de(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(he(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(he(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ke.mergeOptions({zoomControl:!0}),Ke.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))});var Ye=Ue.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=oe("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=oe("div",e,i)),t.imperial&&(this._iScale=oe("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Xe=Ue.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){u(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Ze(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});Ke.mergeOptions({attributionControl:!0}),Ke.addInitHook(function(){this.options.attributionControl&&(new Xe).addTo(this)});Ue.Layers=Ge,Ue.Zoom=Je,Ue.Scale=Ye,Ue.Attribution=Xe,Ve.layers=function(t,e,i){return new Ge(t,e,i)},Ve.zoom=function(t){return new Je(t)},Ve.scale=function(t){return new Ye(t)},Ve.attribution=function(t){return new Xe(t)};var Qe=S.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var ti={Events:E},ei=It.touch?"touchstart mousedown":"mousedown",ii=M.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){u(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Te(this._dragStartTarget,ei,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ii._dragging===this&&this.finishDrag(!0),Ee(this._dragStartTarget,ei,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)ii._dragging===this&&this.finishDrag();else if(!(ii._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ii._dragging=this,this._preventOutline&&xe(this._element),we(),Vt(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,i=ke(this._element);this._startPoint=new C(e.clientX,e.clientY),this._startPos=ve(this._element),this._parentScale=Pe(i);var n="mousedown"===t.type;Te(document,n?"mousemove":"touchmove",this._onMove,this),Te(document,n?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new C(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Be(t),this._moved||(this.fire("dragstart"),this._moved=!0,he(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ge(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ee(document,"mousemove touchmove",this._onMove,this),Ee(document,"mouseup touchend touchcancel",this._onUp,this),be(),Gt();var e=this._moved&&this._moving;this._moving=!1,ii._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ni(t,e,i){var n,o,s,r,a,l,c,h,d,u=[1,4,2,8];for(o=0,c=t.length;o<c;o++)t[o]._code=pi(t[o],e);for(r=0;r<4;r++){for(h=u[r],n=[],o=0,s=(c=t.length)-1;o<c;s=o++)a=t[o],l=t[s],a._code&h?l._code&h||((d=ui(l,a,h,e,i))._code=pi(d,e),n.push(d)):(l._code&h&&((d=ui(l,a,h,e,i))._code=pi(d,e),n.push(d)),n.push(a));t=n}return t}function oi(t,e){var i,n,o,s,r,a,l,c,h;if(!t||0===t.length)throw new Error("latlngs not passed");fi(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var d=N([0,0]),u=B(t);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(d=si(t));var p=t.length,m=[];for(i=0;i<p;i++){var _=N(t[i]);m.push(e.project(N([_.lat-d.lat,_.lng-d.lng])))}for(a=l=c=0,i=0,n=p-1;i<p;n=i++)o=m[i],s=m[n],r=o.y*s.x-s.y*o.x,l+=(o.x+s.x)*r,c+=(o.y+s.y)*r,a+=3*r;h=0===a?m[0]:[l/a,c/a];var f=e.unproject(j(h));return N([f.lat+d.lat,f.lng+d.lng])}function si(t){for(var e=0,i=0,n=0,o=0;o<t.length;o++){var s=N(t[o]);e+=s.lat,i+=s.lng,n++}return N([e/n,i/n])}var ri,ai={__proto__:null,clipPolygon:ni,polygonCenter:oi,centroid:si};function li(t,e){if(!e||!t.length)return t.slice();var i=e*e;return function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,hi(t,n,e,0,i-1);var o,s=[];for(o=0;o<i;o++)n[o]&&s.push(t[o]);return s}(t=function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;n<s;n++)mi(t[n],t[o])>e&&(i.push(t[n]),o=n);return o<s-1&&i.push(t[s-1]),i}(t,i),i)}function ci(t,e,i){return Math.sqrt(_i(t,e,i,!0))}function hi(t,e,i,n,o){var s,r,a,l=0;for(r=n+1;r<=o-1;r++)(a=_i(t[r],t[n],t[o],!0))>l&&(s=r,l=a);l>i&&(e[s]=1,hi(t,e,i,n,s),hi(t,e,i,s,o))}function di(t,e,i,n,o){var s,r,a,l=n?ri:pi(t,i),c=pi(e,i);for(ri=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=pi(r=ui(t,e,s=l||c,i,o),i),s===l?(t=r,l=a):(e=r,c=a)}}function ui(t,e,i,n,o){var s,r,a=e.x-t.x,l=e.y-t.y,c=n.min,h=n.max;return 8&i?(s=t.x+a*(h.y-t.y)/l,r=h.y):4&i?(s=t.x+a*(c.y-t.y)/l,r=c.y):2&i?(s=h.x,r=t.y+l*(h.x-t.x)/a):1&i&&(s=c.x,r=t.y+l*(c.x-t.x)/a),new C(s,r,o)}function pi(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function mi(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function _i(t,e,i,n){var o,s=e.x,r=e.y,a=i.x-s,l=i.y-r,c=a*a+l*l;return c>0&&((o=((t.x-s)*a+(t.y-r)*l)/c)>1?(s=i.x,r=i.y):o>0&&(s+=a*o,r+=l*o)),a=t.x-s,l=t.y-r,n?a*a+l*l:new C(s,r)}function fi(t){return!f(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function gi(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fi(t)}function vi(t,e){var i,n,o,s,r,a,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");fi(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=N([0,0]),d=B(t);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(h=si(t));var u=t.length,p=[];for(i=0;i<u;i++){var m=N(t[i]);p.push(e.project(N([m.lat-h.lat,m.lng-h.lng])))}for(i=0,n=0;i<u-1;i++)n+=p[i].distanceTo(p[i+1])/2;if(0===n)c=p[0];else for(i=0,s=0;i<u-1;i++)if(r=p[i],a=p[i+1],(s+=o=r.distanceTo(a))>n){l=(s-n)/o,c=[a.x-l*(a.x-r.x),a.y-l*(a.y-r.y)];break}var _=e.unproject(j(c));return N([_.lat+h.lat,_.lng+h.lng])}var yi={__proto__:null,simplify:li,pointToSegmentDistance:ci,closestPointOnSegment:function(t,e,i){return _i(t,e,i)},clipSegment:di,_getEdgeIntersection:ui,_getBitCode:pi,_sqClosestPointOnSegment:_i,isFlat:fi,_flat:gi,polylineCenter:vi},wi={project:function(t){return new C(t.lng,t.lat)},unproject:function(t){return new D(t.y,t.x)},bounds:new I([-180,-90],[180,90])},bi={R:6378137,R_MINOR:6356752.314245179,bounds:new I([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),r=s*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-r)/(1+r),s/2);return n=-i*Math.log(Math.max(a,1e-10)),new C(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),r=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(r),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=s*Math.sin(a),e=Math.pow((1-e)/(1+e),s/2),a+=c=Math.PI/2-2*Math.atan(r*e)-a;return new D(a*i,t.x*i/n)}},xi={__proto__:null,LonLat:wi,Mercator:bi,SphericalMercator:W},zi=e({},H,{code:"EPSG:3395",projection:bi,transformation:function(){var t=.5/(Math.PI*bi.R);return K(t,.5,-t,.5)}()}),ki=e({},H,{code:"EPSG:4326",projection:wi,transformation:K(1/180,1,-1/180,.5)}),Pi=e({},q,{projection:wi,transformation:K(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});q.Earth=H,q.EPSG3395=zi,q.EPSG3857=U,q.EPSG900913=V,q.EPSG4326=ki,q.Simple=Pi;var Li=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ke.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return s(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?f(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ti=Li.extend({initialize:function(t,e){var i,n;if(u(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Si=Ti.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ti.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ti.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Z;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Ei=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){u(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=j(n),s=j("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return It.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var Mi=Ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof Mi.imagePath&&(Mi.imagePath=this._detectIconPath()),(this.options.imagePath||Mi.imagePath)+Ei.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,i){var n=e.exec(t);return n&&n[i]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=ne(t,"background-image")||ne(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),Ci=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ii(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=ve(e._icon),r=i.getPixelBounds(),a=i.getPixelOrigin(),l=O(r.min._subtract(a).add(o),r.max._subtract(a).subtract(o));if(!l.contains(s)){var c=j((Math.max(l.max.x,s.x)-l.max.x)/(r.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(r.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(r.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(r.min.y-l.min.y)).multiplyBy(n);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),ge(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=k(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=ve(e._icon),o=e._map.layerPointToLatLng(n);i&&ge(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ai=Li.extend({options:{icon:new Mi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){u(this,e),this._latlng=N(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=N(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),he(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(i,"focus",this._panOnFocus,this);var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&(he(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(this._icon,"focus",this._panOnFocus,this),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ge(this._icon,t),this._shadow&&ge(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ci)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ci(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?j(e.iconSize):j(0,0),n=e.iconAnchor?j(e.iconAnchor):j(0,0);t.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:i.subtract(n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ji=Li.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return u(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ii=ji.extend({options:{fill:!0,radius:10},initialize:function(t,e){u(this,e),this._latlng=N(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=N(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ji.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new I(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Oi=Ii.extend({initialize:function(t,i,n){if("number"==typeof i&&(i=e({},n,{radius:i})),u(this,i),this._latlng=N(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ji.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===H.distance){var o=Math.PI/180,s=this._mRadius/H.R/o,r=i.project([e+s,t]),a=i.project([e-s,t]),l=r.add(a).divideBy(2),c=i.unproject(l).lat,h=Math.acos((Math.cos(s*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(h)||0===h)&&(h=s/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-i.project([c,t-h]).x,this._radiusY=l.y-r.y}else{var d=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(d).x}this._updateBounds()}});var Zi=ji.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){u(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,s=_i,r=0,a=this._parts.length;r<a;r++)for(var l=this._parts[r],c=1,h=l.length;c<h;c++){var d=s(t,e=l[c-1],i=l[c],!0);d<n&&(n=d,o=s(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=N(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Z,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return fi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=fi(t),n=0,o=t.length;n<o;n++)i?(e[n]=N(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new C(t,t);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var n,o,s=t[0]instanceof D,r=t.length;if(s){for(o=[],n=0;n<r;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<r;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,o,s,r,a,l=this._parts;for(e=0,n=0,o=this._rings.length;e<o;e++)for(i=0,s=(a=this._rings[e]).length;i<s-1;i++)(r=di(a[i],a[i+1],t,i,!0))&&(l[n]=l[n]||[],l[n].push(r[0]),r[1]===a[i+1]&&i!==s-2||(l[n].push(r[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=li(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,s,r,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(n=0,o=(r=(a=this._parts[i]).length)-1;n<r;o=n++)if((e||0!==n)&&ci(t,a[o],a[n])<=l)return!0;return!1}});Zi._flat=gi;var Bi=Zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Zi.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof D&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Zi.prototype._setLatLngs.call(this,t),fi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new C(e,e);if(t=new I(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,s=this._rings.length;o<s;o++)(n=ni(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,s,r,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(s=0,r=(l=(e=this._parts[o]).length)-1;s<l;r=s++)i=e[s],n=e[r],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(c=!c);return c||Zi.prototype._containsPoint.call(this,t,!0)}});var Di=Si.extend({initialize:function(t,e){u(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=f(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var r=Ni(t,s);return r?(r.feature=Ki(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Ni(t,e){var i,n,o,s,r="Feature"===t.type?t.geometry:t,a=r?r.coordinates:null,l=[],c=e&&e.pointToLayer,h=e&&e.coordsToLatLng||qi;if(!a&&!r)return null;switch(r.type){case"Point":return Ri(c,t,i=h(a),e);case"MultiPoint":for(o=0,s=a.length;o<s;o++)i=h(a[o]),l.push(Ri(c,t,i,e));return new Si(l);case"LineString":case"MultiLineString":return n=Hi(a,"LineString"===r.type?0:1,h),new Zi(n,e);case"Polygon":case"MultiPolygon":return n=Hi(a,"Polygon"===r.type?1:2,h),new Bi(n,e);case"GeometryCollection":for(o=0,s=r.geometries.length;o<s;o++){var d=Ni({geometry:r.geometries[o],type:"Feature",properties:t.properties},e);d&&l.push(d)}return new Si(l);case"FeatureCollection":for(o=0,s=r.features.length;o<s;o++){var u=Ni(r.features[o],e);u&&l.push(u)}return new Si(l);default:throw new Error("Invalid GeoJSON object.")}}function Ri(t,e,i,n){return t?t(e,i):new Ai(i,n&&n.markersInheritOptions&&n)}function qi(t){return new D(t[1],t[0],t[2])}function Hi(t,e,i){for(var n,o=[],s=0,r=t.length;s<r;s++)n=e?Hi(t[s],e-1,i):(i||qi)(t[s]),o.push(n);return o}function Fi(t,e){return void 0!==(t=N(t)).alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Wi(t,e,i,n){for(var o=[],s=0,r=t.length;s<r;s++)o.push(e?Wi(t[s],fi(t[s])?0:e-1,i,n):Fi(t[s],n));return!e&&i&&o.length>0&&o.push(o[0].slice()),o}function $i(t,i){return t.feature?e({},t.feature,{geometry:i}):Ki(i)}function Ki(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Ui={toGeoJSON:function(t){return $i(this,{type:"Point",coordinates:Fi(this.getLatLng(),t)})}};function Vi(t,e){return new Di(t,e)}Ai.include(Ui),Oi.include(Ui),Ii.include(Ui),Zi.include({toGeoJSON:function(t){var e=!fi(this._latlngs);return $i(this,{type:(e?"Multi":"")+"LineString",coordinates:Wi(this._latlngs,e?1:0,!1,t)})}}),Bi.include({toGeoJSON:function(t){var e=!fi(this._latlngs),i=e&&!fi(this._latlngs[0]),n=Wi(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),$i(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Ti.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),$i(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer(function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(i)n.push(o.geometry);else{var s=Ki(o);"FeatureCollection"===s.type?n.push.apply(n,s.features):n.push(s)}}}),i?$i(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Gi=Vi,Ji=Li.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=B(e),u(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ae(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=n(this.fire,this,"load"),e.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fe(this._image,i,e)},_reset:function(){var t=this._image,e=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();ge(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Yi=Ji.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=n(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),o=[],s=0;s<i.length;s++)o.push(i[s].src);this._url=i.length>0?o:[e.src]}else{f(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var r=0;r<this._url.length;r++){var a=oe("source");a.src=this._url[r],e.appendChild(a)}}}});var Xi=Ji.extend({_initImage:function(){var t=this._image=this._url;he(t,"leaflet-image-layer"),this._zoomAnimated&&he(t,"leaflet-zoom-animated"),this.options.className&&he(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});var Qi=Li.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof D||f(t))?(this._latlng=N(t),u(this,e)):(u(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront(),this.options.interactive&&(he(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(n(se,void 0,this._container),200)):se(this._container),this.options.interactive&&(de(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=N(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ae(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Si){e=null;var i=this._source._layers;for(var n in i)if(i[n]._map){e=i[n];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=j(this.options.offset),i=this._getAnchor();this._zoomAnimated?ge(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});Ke.include({_initOverlay:function(t,e,i,n){var o=e;return o instanceof t||(o=new t(n).setContent(e)),i&&o.setLatLng(i),o}}),Li.include({_initOverlay:function(t,e,i,n){var o=i;return o instanceof t?(u(o,n),o._source=this):(o=e&&!n?e:new t(n,this)).setContent(i),o}});var tn=Qi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Qi.prototype.openOn.call(this,t)},onAdd:function(t){Qi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ji||this._source.on("preclick",Ie))},onRemove:function(t){Qi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ji||this._source.off("preclick",Ie))},getEvents:function(){var t=Qi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=oe("div",t+"-content-wrapper",e);if(this._contentNode=oe("div",t+"-content",i),Ze(e),Oe(this._contentNode),Te(e,"contextmenu",Ie),this._tipContainer=oe("div",t+"-tip-container",e),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=oe("a",t+"-close-button",e);n.setAttribute("role","button"),n.setAttribute("aria-label","Close popup"),n.href="#close",n.innerHTML='<span aria-hidden="true">&#215;</span>',Te(n,"click",function(t){Be(t),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&n>o?(e.height=o+"px",he(t,s)):de(t,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();ge(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(ne(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new C(this._containerLeft,-i-this._containerBottom);o._add(ve(this._container));var s=t.layerPointToContainerPoint(o),r=j(this.options.autoPanPadding),a=j(this.options.autoPanPaddingTopLeft||r),l=j(this.options.autoPanPaddingBottomRight||r),c=t.getSize(),h=0,d=0;s.x+n+l.x>c.x&&(h=s.x+n-c.x+l.x),s.x-h-a.x<0&&(h=s.x-a.x),s.y+i+l.y>c.y&&(d=s.y+i-c.y+l.y),s.y-d-a.y<0&&(d=s.y-a.y),(h||d)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([h,d]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ke.mergeOptions({closePopupOnClick:!0}),Ke.include({openPopup:function(t,e,i){return this._initOverlay(tn,t,e,i).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Li.include({bindPopup:function(t,e){return this._popup=this._initOverlay(tn,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){De(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof ji?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var en=Qi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Qi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Qi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Qi.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,n=this._map,o=this._container,s=n.latLngToContainerPoint(n.getCenter()),r=n.layerPointToContainerPoint(t),a=this.options.direction,l=o.offsetWidth,c=o.offsetHeight,h=j(this.options.offset),d=this._getAnchor();"top"===a?(e=l/2,i=c):"bottom"===a?(e=l/2,i=0):"center"===a?(e=l/2,i=c/2):"right"===a?(e=0,i=c/2):"left"===a?(e=l,i=c/2):r.x<s.x?(a="right",e=0,i=c/2):(a="left",e=l+2*(h.x+d.x),i=c/2),t=t.subtract(j(e,i,!0)).add(h).add(d),de(o,"leaflet-tooltip-right"),de(o,"leaflet-tooltip-left"),de(o,"leaflet-tooltip-top"),de(o,"leaflet-tooltip-bottom"),he(o,"leaflet-tooltip-"+a),ge(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ke.include({openTooltip:function(t,e,i){return this._initOverlay(en,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Li.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(en,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&(Te(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Te(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)})}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var nn=Ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(re(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=j(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Ei.Default=Mi;var on=Li.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){u(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ae(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof C?t:new C(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,s=i.length;o<s;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){me(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);me(o.el,s),s<1?e=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(P(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(se(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),s=Math.floor(e/2),r=i-1,a=new C(+o,+s);a.z=+r;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),r>n&&this._retainParent(o,s,r,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var s=2*e;s<2*e+2;s++){var r=new C(o,s);r.z=i+1;var a=this._tileCoordsToKey(r),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(o,s,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var s=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();It.any3d?fe(t.el,o,n):ge(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*n);return new I(o.subtract(s),o.add(s))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),s=o.getCenter(),r=[],a=this.options.keepBuffer,l=new I(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var h=this._tiles[c].coords;h.z===this._tileZoom&&l.contains(new C(h.x,h.y))||(this._tiles[c].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var d=o.min.y;d<=o.max.y;d++)for(var u=o.min.x;u<=o.max.x;u++){var p=new C(u,d);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:r.push(p)}}if(r.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)}),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(u=0;u<r.length;u++)this._addTile(r[u],_);this._level.el.appendChild(_)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i);return[e.unproject(n,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new Z(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new C(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){he(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,It.ielt9&&this.options.opacity<1&&me(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&k(n(this._tileReady,this,t,null,s)),ge(s,i),this._tiles[o]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);(i=this._tiles[o])&&(i.loaded=+new Date,this._map._fadeAnimated?(me(i.el,0),P(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(he(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new C(this._wrapX?a(t.x,this._wrapX):t.x,this._wrapY?a(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new I(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var sn=on.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=u(this,e)).detectRetina&&It.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Te(i,"load",n(this._tileOnLoad,this,e,i)),Te(i,"error",n(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var i={r:It.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=n),i["-y"]=n}return _(this._url,e(i,this.options))},_tileOnLoad:function(t,e){It.ielt9?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,!e.complete)){e.src=v;var i=this._tiles[t].coords;se(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",v),on.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==v))return on.prototype._tileReady.call(this,t,e,i)}});function rn(t,e){return new sn(t,e)}var an=sn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var n=e({},this.defaultWmsParams);for(var o in i)o in this.options||(n[o]=i[o]);var s=(i=u(this,i)).detectRetina&&It.retina?2:1,r=this.getTileSize();n.width=r.x*s,n.height=r.y*s,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,sn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=O(i.project(e[0]),i.project(e[1])),o=n.min,s=n.max,r=(this._wmsVersion>=1.3&&this._crs===ki?[o.y,o.x,s.y,s.x]:[o.x,o.y,s.x,s.y]).join(","),a=sn.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,i){return e(this.wmsParams,t),i||this.redraw(),this}});sn.WMS=an,rn.wms=function(t,e){return new an(t,e)};var ln=Li.extend({options:{padding:.1},initialize:function(t){u(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),he(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=n.multiplyBy(-i).add(o).subtract(this._map._getNewPixelOrigin(t,e));It.any3d?fe(this._container,s,i):ge(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new I(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cn=ln.extend({options:{tolerance:0},getEvents:function(){var t=ln.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Te(t,"mousemove",this._onMouseMove,this),Te(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,se(this._container),Ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ln.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=It.retina?2:1;ge(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),o=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,s,r=t._parts,a=r.length,l=this._ctx;if(a){for(l.beginPath(),i=0;i<a;i++){for(n=0,o=r[i].length;n<o;n++)s=r[i][n],l[n?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(i=e);this._fireEvent(!!i&&[i],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(de(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,o,s=this._drawFirst;s;s=s.next)(i=s.layer).options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(he(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(n(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function hn(t){return It.canvas?new cn(t):null}var dn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),un={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=dn("shape");he(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=dn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=dn("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=f(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=dn("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ae(t._container)},_bringToBack:function(t){le(t._container)}},pn=It.vml?dn:G,mn=ln.extend({_initContainer:function(){this._container=pn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ln.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),ge(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=pn("path");t.options.className&&he(e,t.options.className),t.options.interactive&&he(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ae(t._path)},_bringToBack:function(t){le(t._path)}});function _n(t){return It.svg||It.vml?new mn(t):null}It.vml&&mn.include(un),Ke.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&hn(t)||_n(t)}});var fn=Bi.extend({initialize:function(t,e){Bi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});mn.create=pn,mn.pointsToPath=J,Di.geometryToLayer=Ni,Di.coordsToLatLng=qi,Di.coordsToLatLngs=Hi,Di.latLngToCoords=Fi,Di.latLngsToCoords=Wi,Di.getFeature=$i,Di.asFeature=Ki,Ke.mergeOptions({boxZoom:!0});var gn=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Vt(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),Te(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),he(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new I(this._point,this._startPoint),i=e.getSize();ge(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(se(this._box),de(this._container,"leaflet-crosshair")),Gt(),be(),Ee(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ke.addInitHook("addHandler","boxZoom",gn),Ke.mergeOptions({doubleClickZoom:!0});var vn=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ke.addInitHook("addHandler","doubleClickZoom",vn),Ke.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yn=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ii(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}he(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,r=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=i.easeLinearity,a=o.multiplyBy(r/s),l=a.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),h=a.multiplyBy(c/l),d=c/(i.inertiaDeceleration*r),u=h.multiplyBy(-d/2).round();u.x||u.y?(u=e._limitOffset(u,e.options.maxBounds),k(function(){e.panBy(u,{duration:d,easeLinearity:r,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ke.addInitHook("addHandler","dragging",yn),Ke.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wn=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Te(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(e=this._panKeys[i],t.shiftKey&&(e=j(e).multiplyBy(3)),n.options.maxBounds&&(e=n._limitOffset(j(e),n.options.maxBounds)),n.options.worldCopyJump){var o=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(e)));n.panTo(o)}else n.panBy(e)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}De(t)}}});Ke.addInitHook("addHandler","keyboard",wn),Ke.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bn=Qe.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=He(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),o),De(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=i?Math.ceil(o/i)*i:o,r=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}});Ke.addInitHook("addHandler","scrollWheelZoom",bn);Ke.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var xn=Qe.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new C(e.clientX,e.clientY),this._holdTimeout=setTimeout(n(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",Be),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),600),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Ee(document,"touchend",Be),Ee(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new C(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});Ke.addInitHook("addHandler","tapHold",xn),Ke.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var zn=Qe.extend({addHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),Be(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),s=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var a=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=k(a,this,!0),Be(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,P(this._animRequest),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ke.addInitHook("addHandler","touchZoom",zn),Ke.BoxZoom=gn,Ke.DoubleClickZoom=vn,Ke.Drag=yn,Ke.Keyboard=wn,Ke.ScrollWheelZoom=bn,Ke.TapHold=xn,Ke.TouchZoom=zn,t.Bounds=I,t.Browser=It,t.CRS=q,t.Canvas=cn,t.Circle=Oi,t.CircleMarker=Ii,t.Class=S,t.Control=Ue,t.DivIcon=nn,t.DivOverlay=Qi,t.DomEvent=We,t.DomUtil=Le,t.Draggable=ii,t.Evented=M,t.FeatureGroup=Si,t.GeoJSON=Di,t.GridLayer=on,t.Handler=Qe,t.Icon=Ei,t.ImageOverlay=Ji,t.LatLng=D,t.LatLngBounds=Z,t.Layer=Li,t.LayerGroup=Ti,t.LineUtil=yi,t.Map=Ke,t.Marker=Ai,t.Mixin=ti,t.Path=ji,t.Point=C,t.PolyUtil=ai,t.Polygon=Bi,t.Polyline=Zi,t.Popup=tn,t.PosAnimation=$e,t.Projection=xi,t.Rectangle=fn,t.Renderer=ln,t.SVG=mn,t.SVGOverlay=Xi,t.TileLayer=sn,t.Tooltip=en,t.Transformation=$,t.Util=T,t.VideoOverlay=Yi,t.bind=n,t.bounds=O,t.canvas=hn,t.circle=function(t,e,i){return new Oi(t,e,i)},t.circleMarker=function(t,e){return new Ii(t,e)},t.control=Ve,t.divIcon=function(t){return new nn(t)},t.extend=e,t.featureGroup=function(t,e){return new Si(t,e)},t.geoJSON=Vi,t.geoJson=Gi,t.gridLayer=function(t){return new on(t)},t.icon=function(t){return new Ei(t)},t.imageOverlay=function(t,e,i){return new Ji(t,e,i)},t.latLng=N,t.latLngBounds=B,t.layerGroup=function(t,e){return new Ti(t,e)},t.map=function(t,e){return new Ke(t,e)},t.marker=function(t,e){return new Ai(t,e)},t.point=j,t.polygon=function(t,e){return new Bi(t,e)},t.polyline=function(t,e){return new Zi(t,e)},t.popup=function(t,e){return new tn(t,e)},t.rectangle=function(t,e){return new fn(t,e)},t.setOptions=u,t.stamp=s,t.svg=_n,t.svgOverlay=function(t,e,i){return new Xi(t,e,i)},t.tileLayer=rn,t.tooltip=function(t,e){return new en(t,e)},t.transformation=K,t.version="1.9.4",t.videoOverlay=function(t,e,i){return new Yi(t,e,i)};var kn=window.L;t.noConflict=function(){return window.L=kn,this},window.L=t}(e)},495:(t,e,i)=>{"use strict";t.exports=i.p+"assets/10.png"},564:(t,e,i)=>{"use strict";t.exports=i.p+"assets/2.png"},566:(t,e,i)=>{"use strict";t.exports=i.p+"assets/20.png"},590:(t,e,i)=>{"use strict";t.exports=i.p+"assets/8.png"},611:(t,e,i)=>{"use strict";t.exports=i.p+"assets/14.png"},644:(t,e,i)=>{"use strict";t.exports=i.p+"assets/22.png"},668:t=>{t.exports={header:{menu:{ple:"Pro Live Events",flesh:"FlashPro",gallery:"Gallery",artists:"Artists",contacts:"Contacts"}},proliveevents:{},level:{},gallery:{},artists:{},contacts:{title:"Lets light up your event",info:{title:"Contact Information",directorLabel:"Director",directorName:"Krystian Shafranski: ",directorPhone:"+48 796 270 792",technicalDirectorLabel:"Technical Director",technicalDirectorName:"Michal Choinacki: ",technicalDirectorPhone:"+48 602 465 066",map:"Heres Where to Find Us",adres:"Oleska 29A, 46-022 Zawada"}},footer:{about:{title:"Pro Live Events",text:"Professional organization of concerts and events. Lighting, sound, stage  everything turnkey across Poland and abroad."},links:{title:"Quick Links",about:"About Us",services:"Services",gallery:"Gallery",artists:"Artists",contact:"Contact",privacy:"Privacy Policy"},newsletter:{label:"Newsletter",submit:"OK",consent:"I agree to the processing of my data in accordance with the Privacy Policy."},legal:{year:"2025",rights:"All rights reserved."}}}},680:(t,e,i)=>{"use strict";t.exports=i.p+"assets/6.png"},740:(t,e,i)=>{"use strict";t.exports=i.p+"assets/13.png"},790:(t,e,i)=>{"use strict";t.exports=i.p+"assets/19.png"},807:(t,e,i)=>{"use strict";t.exports=i.p+"assets/18.png"},856:(t,e,i)=>{"use strict";t.exports=i.p+"assets/17.png"},943:t=>{t.exports={header:{menu:{ple:"Pro Live Events",flesh:"FlashPro",gallery:"Galeria",artists:"Artyci",contacts:"Kontakt"}},intro:{ple:{badge:"Pro Live Events",title:"Organizacja wydarze",desc:"Kompleksowa produkcja sceniczna...",cta:"Zobacz ofert"},flesh:{badge:"FlashPro",title:"Profesjonalne owietlenie",desc:"Zaawansowane rozwizania owietleniowe dla Twoich wydarze",cta:"Poznaj ofert"}},proliveevents:{title:"Usugi Pro Live Events"},prolive:{org:{title:"Organizacja wydarze",desc:"Kompleksowa organizacja i produkcja wydarze na najwyszym poziomie",btn:"Dowiedz si wicej"},rental:{title:"Wynajem sprztu",desc:"Profesjonalny sprzt sceniczny i owietleniowy do wynajcia",btn:"Zobacz ofert"},crew:{title:"Zesp techniczny",desc:"Dowiadczona ekipa techniczna do realizacji kadego projektu",btn:"Skontaktuj si"},artists:{title:"Wsppraca z artystami",desc:"Reprezentacja i management utalentowanych artystw",btn:"Poznaj artystw"}},artists:{title:"Nasi Artyci",lead:"Poznaj naszych utalentowanych artystw",items:{karolina:{name:"Karolina",bio:"Utalentowana wokalistka z wyjtkowym gosem i sceniczn charyzm",programs:[{title:"Recital akustyczny",desc:"Intymny wystp z akompaniamentem gitary"},{title:"Koncert z zespoem",desc:"Energetyczny wystp z penym skadem muzycznym"},{title:"Oprawa muzyczna eventw",desc:"Profesjonalna oprawa muzyczna dla wydarze specjalnych"}]},nel:{name:"Nel",bio:"Wszechstronny muzyk i kompozytor z unikalnym stylem",programs:[{title:"Set elektroniczny",desc:"Autorska muzyka elektroniczna w nowoczesnym brzmieniu"},{title:"Live act",desc:"Wystp na ywo z wykorzystaniem kontrolerw MIDI"}]},paszczyk:{name:"Paszczyk",bio:"Experymentalny artysta czcy rne gatunki muzyczne",programs:[{title:"Performance audiowizualny",desc:"Poczenie muzyki eksperymentalnej z wizualizacjami"}]},skiba:{name:"Skiba",bio:"Dynamiczny performer z energi sceniczn",programs:[{title:"Set klubowy",desc:"Energetyczny set idealny na imprezy klubowe"}]},dj_choinax:{name:"DJ Choinax",bio:"Dowiadczony DJ specjalizujcy si w muzyce elektronicznej",programs:[{title:"Set DJ-ski",desc:"Profesjonalny set DJ-ski na kad okazj"},{title:"Afterparty",desc:"Specjalny set na afterparty i wydarzenia klubowe"}]}}},contacts:{title:"Rozwietlmy Twoje wydarzenie",info:{title:"Informacje kontaktowe",directorLabel:"Dyrektor",directorName:"Krystian Szafraski",directorPhone:"+48 796 270 792",technicalDirectorLabel:"Dyrektor techniczny",technicalDirectorName:"Micha Chojnacki",technicalDirectorPhone:"+48 602 465 066",map:"Nasza lokalizacja",adres:"ul. Oleska 29A, Zawada, Polska"},form:{nameLabel:"Imi i nazwisko",namePlaceholder:"Wprowad swoje imi i nazwisko",emailLabel:"Twj adres e-mail",emailPlaceholder:"przyklad@domena.pl",phoneLabel:"Twj numer telefonu",phonePlaceholder:"+48 123 456 789",messageLabel:"Opisz swoje zapytanie",messagePlaceholder:"Co chciaby/chciaaby wiedzie?",interestLegend:"Wybierz obszar zainteresowania",interestConcerts:"Koncerty",interestLighting:"Owietlenie",interestArtist:"Artyci",interestEventPlanning:"Planowanie wydarze",interestSponsorships:"Sponsoring",interestTechnical:"Technika",submit:"Wylij",errors:{nameRequired:"Imi i nazwisko jest wymagane",contactRequired:"Prosz poda adres email lub numer telefonu",messageRequired:"Wiadomo jest wymagana",success:"Formularz zosta wysany pomylnie!"}}},footer:{about:{title:"O nas",text:"Profesjonalna organizacja wydarze i produkcja sceniczna na najwyszym poziomie"},links:{title:"Szybkie linki",home:"Strona gwna",ple:"Pro Live Events",flashpro:"FlashPro",gallery:"Galeria",artists:"Artyci",contact:"Kontakt",privacy:"Polityka prywatnoci"},newsletter:{label:"Zapisz si do newslettera",placeholder:"Twj adres e-mail",submit:"Subskrybuj",consent:"Wyraam zgod na przetwarzanie danych"},legal:{year:"2024",rights:"Wszelkie prawa zastrzeone"}},gallery:{title:"Galeria naszych realizacji",filterAll:"Wszystkie",filterConcerts:"Koncerty",filterEvents:"Wydarzenia",filterLighting:"Owietlenie"},flesh:{title:"FlashPro - Owietlenie",subtitle:"Profesjonalne rozwizania owietleniowe",services:{design:{title:"Projektowanie",desc:"Kompleksowe projekty owietleniowe"},rental:{title:"Wynajem",desc:"Nowoczesny sprzt owietleniowy"},operation:{title:"Obsuga",desc:"Profesjonalna obsuga techniczna"}}}}},985:(t,e,i)=>{"use strict";t.exports=i.p+"assets/16.png"}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.p="./",(()=>{"use strict";var t=i(943),e=i.n(t),n=i(668),o=i.n(n);const s={pl:e(),en:o()};let r="pl";function a(){return r}function l(t=r,e=document.body){const i=s[t];if(!i)return void console.warn(`No translations found for language: ${t}`);e.querySelectorAll("[data-i18n]").forEach(e=>{const n=e.getAttribute("data-i18n"),o=(s=i,n.split(".").reduce((t,e)=>t&&void 0!==t[e]?t[e]:void 0,s));var s;if(void 0!==o)"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.placeholder=o:e.textContent=o;else{console.warn(` Translation key not found: ${n} in ${t}`);const e=n.split(".");e.length>0&&e[0]}}),document.documentElement.setAttribute("lang",t),document.body.setAttribute("data-lang",t),e===document.body||e.tagName}const c='<div class="header-box">\r\n\r\n    <div class="header-box-menu">\r\n      <nav class="header-box-menu-nav" role="navigation" aria-label="Main menu">\r\n        <a href="#proliveevents" class="header-box-menu-nav-a" data-i18n="header.menu.ple">Pro Live Events</a>\r\n        <a href="#flesh"         class="header-box-menu-nav-a" data-i18n="header.menu.flesh">FlashPro</a>\r\n        <a href="#gallery"       class="header-box-menu-nav-a" data-i18n="header.menu.gallery">Gallery</a>\r\n        <a href="#artists"       class="header-box-menu-nav-a" data-i18n="header.menu.artists">Artists</a>\r\n        <a href="#contacts"      class="header-box-menu-nav-a" data-i18n="header.menu.contacts">Contacts</a>\r\n      </nav>\r\n    </div>\r\n\r\n    <div class="header-box-logo">\r\n      <a href="#top" class="header-box-logo-link" aria-label="Go to top">\r\n        <img src="assets/White logo.png" alt="Pro Live Events" class="header-box-logo-img">\r\n      </a>\r\n    </div>\r\n\r\n    <div class="header-box-options">\r\n      <div class="theme-toggle" data-theme-toggle>\r\n        <div class="theme-toggle-track">\r\n          <div class="theme-toggle-icon theme-light"></div>\r\n          <div class="theme-toggle-icon theme-dark"></div>\r\n          <div class="theme-toggle-thumb"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="header-box-options-lang">\r\n        <div class="header-box-options-lang-dropdown">\r\n          <div class="header-box-options-lang-dropdown-box">\r\n            <img src="assets/flags/pl.jpg" alt="PL" class="header-box-options-lang-current-img" data-lang-btn="pl">\r\n          </div>\r\n          <div class="header-box-options-lang-dropdown-box">\r\n            <img src="assets/flags/en.jpg" alt="EN" class="header-box-options-lang-dropdown-box-img" data-lang-btn="en">\r\n          </div>\r\n          <div class="header-box-options-lang-dropdown-box">\r\n            <img src="assets/flags/de.jpg" alt="DE" class="header-box-options-lang-dropdown-box-img" data-lang-btn="de">\r\n          </div>\r\n          <div class="header-box-options-lang-dropdown-box">\r\n            <img src="assets/flags/ru.jpg" alt="RU" class="header-box-options-lang-dropdown-box-img" data-lang-btn="ru">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  \x3c!--  ,    --\x3e\r\n  <div class="header-logo">\r\n    <a href="#top" aria-label="Go to top">\r\n      <img src="assets/White logo.png" alt="Pro Live Events" class="header-logo-img">\r\n    </a>\r\n  </div>',h='<div class="intro-box">\r\n\r\n    \x3c!-- PLE --\x3e\r\n    <div class="intro-box-ple">\r\n      <div class="intro-box-ple-box">\r\n        <div class="intro-box-ple-box-area">\r\n          <h2 class="intro-box-ple-box-area-title font-base-1" data-i18n="intro.ple.title">\r\n            Organizacja wydarze\r\n          </h2>\r\n          <p class="intro-box-ple-box-area-text font-base-2" data-i18n="intro.ple.desc">\r\n            Kompleksowa produkcja sceniczna od projektu do realizacji: wiato, dwik, scena, logistyka i koordynacja zespow.\r\n            Pracujemy dla firm i instytucji, dbajc o bezpieczestwo, jako i spjno artystyczn kadego wydarzenia.\r\n          </p>\r\n          <button class="intro-box-ple-box-area-btn btn btn--primary" data-i18n="intro.ple.cta">\r\n            Zobacz ofert\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class="intro-box-ple-photo">\r\n        <img class="intro-box-ple-photo-img" src="assets/ple_intro_light.png" alt="Pro Live Events  produkcja wydarze">\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!-- FLASH --\x3e\r\n    <div class="intro-box-flesh">\r\n      <div class="intro-box-flesh-box">\r\n        <div class="intro-box-flesh-box-area">\r\n          <h2 class="intro-box-flesh-box-area-title font-base-1" data-i18n="intro.flesh.title">\r\n            Dystrybucja lamp FLASH\r\n          </h2>\r\n          <p class="intro-box-flesh-box-area-text font-base-2" data-i18n="intro.flesh.desc">\r\n            Autoryzowana dystrybucja, showroom i wsparcie techniczne. Profesjonalne oprawy FLASH do scen, klubw i eventw \r\n            doradzimy wybr, pomoemy w konfiguracji i uruchomieniu, zapewnimy serwis i szybkie dostawy.\r\n          </p>\r\n          <button class="intro-box-flesh-box-area-btn btn btn--primary" data-i18n="intro.flesh.cta">\r\n            Zobacz showroom\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class="intro-box-flesh-photo">\r\n        <img class="intro-box-flesh-photo-img" src="assets/Flesh_intro_light.png" alt="FLASH  profesjonalne oprawy owietleniowe">\r\n      </div>\r\n    </div>\r\n\r\n  </div>',d='<div class="proliveevents-viewport">\r\n  <div class="proliveevents-wrapper">\r\n\r\n    <h2 class="proliveevents-title" data-i18n="proliveevents.title">CZYM SI ZAJMUJEMY</h2>\r\n\r\n    \x3c!-- 1. Organizacja --\x3e\r\n    <article class="proliveevents-card proliveevents-card--org">\r\n      <img\r\n        class="proliveevents-card__img"\r\n        src="assets/ple_ple3.png"\r\n        alt="Organizacja wydarze  scena i zesp"\r\n        width="480" height="270" loading="lazy" decoding="async"\r\n      />\r\n      <div class="proliveevents-card__body">\r\n        <h3 class="proliveevents-card__title" data-i18n="prolive.org.title">\r\n          Kompleksowa organizacja wydarze\r\n        </h3>\r\n        <p class="proliveevents-card__text" data-i18n="prolive.org.desc">\r\n          Pena obsuga eventw: koncerty, imprezy firmowe i festyny. Projektujemy scen, dobieramy nagonienie i owietlenie,\r\n          koordynujemy artystw oraz realizujemy monta i demonta  od koncepcji po ostatni wyjazd z terenu. Dbamy\r\n          o harmonogram, bezpieczestwo techniczne i niezawodny serwis podczas caego wydarzenia.\r\n        </p>\r\n\r\n        <div class="proliveevents-card__underline" aria-hidden="true"></div>\r\n\r\n        <button class="proliveevents-card__btn" data-i18n="prolive.org.btn" aria-label="Dowiedz si wicej o organizacji">\r\n          Dowiedz si wicej\r\n        </button>\r\n      </div>\r\n    </article>\r\n\r\n    \x3c!-- 2. Wynajem --\x3e\r\n    <article class="proliveevents-card proliveevents-card--rental">\r\n      <img\r\n        class="proliveevents-card__img"\r\n        src="assets/ple_rent.png"\r\n        alt="Wynajem sprztu estradowego"\r\n        width="480" height="270" loading="lazy" decoding="async"\r\n      />\r\n      <div class="proliveevents-card__body">\r\n        <h3 class="proliveevents-card__title" data-i18n="prolive.rental.title">\r\n          Wynajem sprztu\r\n        </h3>\r\n        <p class="proliveevents-card__text" data-i18n="prolive.rental.desc">\r\n          Profesjonalny sprzt estradowy  nagonienie, owietlenie i konstrukcje. Oferujemy transport, instalacj i serwis na miejscu,\r\n          elastyczne pakiety i pomoc techniczn podczas wydarzenia. Nasze rozwizania dopasowujemy do budetu i skali produkcji.\r\n        </p>\r\n\r\n        <div class="proliveevents-card__underline" aria-hidden="true"></div>\r\n\r\n        <button class="proliveevents-card__btn" data-i18n="prolive.rental.btn" aria-label="Sprawd ofert wynajmu">\r\n          Sprawd ofert\r\n        </button>\r\n      </div>\r\n    </article>\r\n\r\n    \x3c!-- 3. Zesp techniczny --\x3e\r\n    <article class="proliveevents-card proliveevents-card--crew">\r\n      <img\r\n        class="proliveevents-card__img"\r\n        src="assets/ple_team.png"\r\n        alt="Zesp techniczny  inynierowie dwiku i owietleniowcy"\r\n        width="480" height="270" loading="lazy" decoding="async"\r\n      />\r\n      <div class="proliveevents-card__body">\r\n        <h3 class="proliveevents-card__title" data-i18n="prolive.crew.title">\r\n          Zesp techniczny\r\n        </h3>\r\n        <p class="proliveevents-card__text" data-i18n="prolive.crew.desc">\r\n          Dowiadczone ekipy realizatorskie: inynierowie dwiku, owietleniowcy i montayci gotowi na kady typ produkcji \r\n          od kameralnych wydarze po due koncerty plenerowe. Pracujemy z profesjonalnym wyposaeniem i priorytetem na jako dwiku.\r\n        </p>\r\n\r\n        <div class="proliveevents-card__underline" aria-hidden="true"></div>\r\n\r\n        <button class="proliveevents-card__btn" data-i18n="prolive.crew.btn" aria-label="Skontaktuj si z zespoem technicznym">\r\n          Skontaktuj si\r\n        </button>\r\n      </div>\r\n    </article>\r\n\r\n    \x3c!-- 4. Artyci / Agencja --\x3e\r\n    <article class="proliveevents-card proliveevents-card--artists">\r\n      <img\r\n        class="proliveevents-card__img"\r\n        src="assets/ple_artists.png"\r\n        alt="Agencja artystw  zespoy i solici"\r\n        width="480" height="270" loading="lazy" decoding="async"\r\n      />\r\n      <div class="proliveevents-card__body">\r\n        <h3 class="proliveevents-card__title" data-i18n="prolive.artists.title">\r\n          Agencja artystw\r\n        </h3>\r\n        <p class="proliveevents-card__text" data-i18n="prolive.artists.desc">\r\n          Szeroka baza wykonawcw: zespoy, solici, stand-up, programy dla dzieci. Dobierzemy line-up idealnie dopasowany\r\n          do charakteru Twojego wydarzenia i budetu. Pomagamy w kontraktowaniu i logistyce artystw oraz planie wystpw.\r\n        </p>\r\n\r\n        <div class="proliveevents-card__underline" aria-hidden="true"></div>\r\n\r\n        <button class="proliveevents-card__btn" data-i18n="prolive.artists.btn" aria-label="Zarezerwuj artyst">\r\n          Zarezerwuj artyst\r\n        </button>\r\n      </div>\r\n    </article>\r\n\r\n  </div>\r\n</div>\r\n',u="<h2>FLESH</h2>",p='<h2 class="gallery__title">GALERIA</h2>\r\n\r\n<div class="gallery__viewport" aria-roledescription="carousel">\r\n  <ul class="gallery__track">\x3c!--   JS --\x3e</ul>\r\n\r\n  <button class="gallery__btn gallery__btn--prev" aria-label="Poprzednie zdjcie" type="button">\r\n    <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">\r\n      <path d="M15.5 3.87 13.7 2.1 4.8 11l8.9 8.9 1.8-1.77L8.37 11l7.13-7.13z"/>\r\n    </svg>\r\n  </button>\r\n  <button class="gallery__btn gallery__btn--next" aria-label="Nastpne zdjcie" type="button">\r\n    <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">\r\n      <path d="m8.5 20.13 1.8 1.77 8.9-8.9-8.9-8.9-1.8 1.77L15.63 11 8.5 18.13z"/>\r\n    </svg>\r\n  </button>\r\n</div>\r\n\r\n<noscript><p class="gallery__noscript">Wcz JavaScript, aby zobaczy galeri.</p></noscript>',m='  <div class="artists-bg" aria-hidden="true">\r\n    <div class="artists-bg__rgb"></div>\r\n    <div class="artists-bg__tile"></div>\r\n  </div>\r\n\r\n  <div class="artists-hero">\r\n    <header class="artists-header">\r\n      <h2 id="artists-heading" class="artists-title" data-i18n="artists.title">\r\n        ARTYCI, Z KTRYMI WSPPRACUJEMY\r\n      </h2>\r\n    </header>\r\n\r\n    <p class="artists-lead" data-i18n="artists.lead">\r\n      Dobierzemy program idealny do formatu Twojego wydarzenia  od miejskich festynw i imprez firmowych po kameralne eventy prywatne. Pracujemy na podstawie umowy, dostarczamy techniczny rider i pomagamy w doborze sceny, owietlenia oraz nagonienia. Oferujemy gotowe pakiety oraz moliwo przygotowania spersonalizowanego show dopasowanego do budetu. Dziaamy na terenie caej Polski, a take realizujemy wyjazdy w ramach UE. Kontaktujemy si bezporednio z artystami  ustalenia terminw i warunkw przebiegaj sprawnie i transparentnie.\r\n    </p>\r\n  </div>\r\n\r\n  <div class="artists-list" id="artists-list">\r\n\r\n    \x3c!-- ARTYSTA: Karolina --\x3e\r\n    <article class="artist is-themed" id="artist-karolina" data-artist-id="karolina">\r\n      <img class="artist__photo" src="assets/artists/Karolina/Karo_base.png" alt="Karolina" width="500" height="500" />\r\n      <div class="artist__content">\r\n        <h3 class="artist__name" data-i18n="artists.items.karolina.name">Karolina</h3>\r\n\r\n        <div class="artist__bio" data-i18n="artists.items.karolina.bio">\r\n          Karolina to utalentowana wokalistka o szerokim repertuarze  od piosenek dla dzieci po wspczesne aranacje popowe. Jej wystpy cechuje dua dawka energii, interakcja z publicznoci i profesjonalne prowadzenie programu.\r\n\r\n          Dowiadczenie sceniczne zdobywaa na festiwalach rodzinnych, imprezach miejskich oraz eventach korporacyjnych. Zawsze przyjeda z wasnym, kompletnym zapleczem muzycznym oraz scenariuszem animacyjnym dostosowanym do wieku i profilu widowni.\r\n\r\n          Wsppracuje z animatorami i sound-engineerami; oferuje pen obsug techniczn i krtkie sesje Q&A z dziemi lub gomi po wystpie.\r\n        </div>\r\n\r\n        <div class="artist__programs" role="list">\r\n          <button class="program" type="button"\r\n                  aria-label="Karolina  Piosenki dla dzieci"\r\n                  data-prog-key="artists.items.karolina.programs.0"\r\n                  data-prog-img="assets/artists/Karolina/Karo_child_poster.png"\r\n                  data-swap-photo="assets/artists/Karolina/Karo_child_base.png"\r\n                  data-swap-bg="assets/karolina_bg1.jpg">\r\n            <img class="program__img" src="assets/artists/Karolina/Karo_child_poster.png" alt="Piosenki dla dzieci" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.karolina.programs.0.title">Piosenki dla dzieci</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.karolina.programs.0.desc" aria-hidden="true">\r\n              Energetyczne, interaktywne show trwajce 3045 minut  idealne na festyny rodzinne i przedszkolne eventy. Program zawiera przebojowe piosenki, proste zabawy ruchowe oraz konkursy z drobnymi nagrodami.\r\n\r\n              Scenariusz jest elastyczny: mona wyduy blok interakcji, doda warsztaty muzyczne lub foto-sesj z postaciami scenicznymi. Karolina prowadzi wszystko z naturalnym ciepem i humorem, angaujc najmodszych widzw.\r\n\r\n              Wymagania techniczne: mae PA, jedno stanowisko mikrofonowe, moliwo wykorzystania prostych rekwizytw (balony, bbenek).\r\n            </div>\r\n          </button>\r\n\r\n          <button class="program" type="button"\r\n                  aria-label="Karolina  Koldy"\r\n                  data-prog-key="artists.items.karolina.programs.1"\r\n                  data-prog-img="assets/artists/Karolina/Kolendy_base_poster.png"\r\n                  data-swap-photo="assets/artists/Karolina/Kolendy_base.png"\r\n                  data-swap-bg="assets/karolina_bg2.jpg">\r\n            <img class="program__img" src="assets/artists/Karolina/Kolendy_base_poster.png" alt="Koldy" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.karolina.programs.1.title">Koldy</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.karolina.programs.1.desc" aria-hidden="true">\r\n              Aklimatyczny, akustyczny set przeznaczony na mniejsze sceny i wydarzenia witeczne. Karolina prezentuje tradycyjne koldy w nowoczesnych aranacjach i z delikatnym akompaniamentem gitarowym.\r\n\r\n              Moliwa wsppraca z chrem lokalnym lub instrumentalistami  tworzymy ciep, witeczn atmosfer dostosowan do kociow, rynkw miejskich i firmowych wigilii.\r\n\r\n              Wymagania: 2-3 wejcia mikrofonowe, minimalne nagonienie, subtelne owietlenie.\r\n            </div>\r\n          </button>\r\n\r\n          <button class="program" type="button"\r\n                  aria-label="Karolina  Cover set"\r\n                  data-prog-key="artists.items.karolina.programs.2"\r\n                  data-prog-img="assets/artists/Karolina/Karo_cover_poster.jpg"\r\n                  data-swap-photo="assets/artists/Karolina/Karo_cover.png"\r\n                  data-swap-bg="assets/karolina_bg3.jpg">\r\n            <img class="program__img" src="assets/artists/Karolina/Karo_cover_poster.jpg" alt="Cover set" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.karolina.programs.2.title">Cover set</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.karolina.programs.2.desc" aria-hidden="true">\r\n              Uniwersalny set coverw  piosenki pop/soft rock w nowych aranacjach. Doskonay na eventy wieczorne, uroczystoci i imprezy firmowe. Czas trwania: 4560 minut (moliwo skrcenia).\r\n\r\n              Program moe zosta uzupeniony o wystp akustyczny lub zaproszenie lokalnego muzyka na scen. Karolina dba o dopasowanie repertuaru do publicznoci i klimatu wydarzenia.\r\n\r\n              Technika: standardowe PA, monitoring sceniczny, 2-3 mikrofony.\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </article>\r\n\r\n    \x3c!-- ARTYSTA: Nel --\x3e\r\n    <article class="artist is-themed" id="artist-nel" data-artist-id="nel">\r\n      <img class="artist__photo" src="assets/artists/Nel/Nel_base.png" alt="Nel" width="500" height="500" />\r\n      <div class="artist__content">\r\n        <h3 class="artist__name" data-i18n="artists.items.nel.name">Nel</h3>\r\n\r\n        <div class="artist__bio" data-i18n="artists.items.nel.bio">\r\n          Nel to wokalistka i autorka tekstw o indie-popowej wraliwoci. Jej wystpy charakteryzuje subtelna ekspresja i mocna obecno sceniczna, co sprawia, e kady set staje si intymnym dowiadczeniem.\r\n\r\n          Specjalizuje si w kameralnych wystpach  lounge, kluby, wieczory autorskie  ale rwnie dobrze radzi sobie na wikszych scenach z penym zespoem. Wystpy Neli to zawsze dopracowana opowie muzyczna z dbaoci o dramaturgi programu.\r\n\r\n          W opcjach wsppracy oferuje zarwno solo akustyczne, jak i zestawy z kwartetem lub elektronik. Elastyczny dobr repertuaru wedug charakteru wydarzenia.\r\n        </div>\r\n\r\n        <div class="artist__programs" role="list">\r\n          <button class="program" type="button"\r\n                  aria-label="Nel  Laidback set"\r\n                  data-prog-key="artists.items.nel.programs.0"\r\n                  data-prog-img="assets/artists/Nel/Nel_show1_poster.png"\r\n                  data-swap-photo="assets/artists/Nel/Nel1_base.png"\r\n                  data-swap-bg="assets/nel_bg1.jpg">\r\n            <img class="program__img" src="assets/artists/Nel/Nel_show1_poster.png" alt="Laidback set" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.nel.programs.0.title">Laidback set</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.nel.programs.0.desc" aria-hidden="true">\r\n              Laidback set  4060 minut spokojnego, melodyjnego materiau idealnego na wieczorne uroczystoci i przyjcia. Intymna atmosfera, subtelne aranacje i przestrze na dialog z publicznoci.\r\n\r\n              Moliwo wzbogacenia o elementy live loopingu lub krtkie opowieci o powstawaniu piosenek  to nadaje programowi autentycznoci i gbi.\r\n\r\n              Techniczne: 1-2 mikrofony, minimalny backline, opcjonalnie instrument klawiszowy.\r\n            </div>\r\n          </button>\r\n\r\n          <button class="program" type="button"\r\n                  aria-label="Nel  Set witeczny / okolicznociowy"\r\n                  data-prog-key="artists.items.nel.programs.1"\r\n                  data-prog-img="assets/artists/Nel/Nel_show2_poster.png"\r\n                  data-swap-photo="assets/artists/Nel/Nel2_base.png"\r\n                  data-swap-bg="assets/nel_bg2.jpg">\r\n            <img class="program__img" src="assets/artists/Nel/Nel_show2_poster.png" alt="Set witeczny / okolicznociowy" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.nel.programs.1.title">Set witeczny / okolicznociowy</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.nel.programs.1.desc" aria-hidden="true">\r\n              Zestaw specjalnie skomponowany pod wydarzenia witeczne i jubileuszowe  ciepe interpretacje znanych melodii, przeplatane autorskimi utworami Neli. Czas trwania dostosowujemy do potrzeb.\r\n\r\n              Program sprawdza si doskonale w klubach, na eventach firmowych i kameralnych galach; mona go rozszerzy o sekcj chraln lub smyczkow na yczenie organizatora.\r\n\r\n              Wymagania: kompaktowe nagonienie i 2-3 wejcia mikrofonowe.\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </article>\r\n\r\n    \x3c!-- ARTYSTA: Micha Paszczyk --\x3e\r\n    <article class="artist is-themed" id="artist-paszczyk" data-artist-id="paszczyk">\r\n      <img class="artist__photo" src="assets/artists/Paszczyk/Paszczyk_base.png" alt="Micha Paszczyk" width="500" height="500" />\r\n      <div class="artist__content">\r\n        <h3 class="artist__name" data-i18n="artists.items.paszczyk.name">Micha Paszczyk</h3>\r\n\r\n        <div class="artist__bio" data-i18n="artists.items.paszczyk.bio">\r\n          Micha to prowadzcy i performer z duym dowiadczeniem telewizyjnym i eventowym. Jego programy cz lekkie prowadzenie, elementy storytellingu oraz interakcj z publicznoci.\r\n\r\n          wietny wybr na konferencje, gale i eventy firmowe  potrafi poprowadzi ceremoni, wrczenie nagrd oraz wieczorn cz programu z humorem i klas.\r\n\r\n          W razie potrzeby przygotowuje autorskie scenariusze i wsppracuje z reyserem wydarzenia, by dopasowa rytm i dramaturgi do caego eventu.\r\n        </div>\r\n\r\n        <div class="artist__programs" role="list">\r\n          <button class="program" type="button"\r\n                  aria-label="Micha Paszczyk  Autorski spektakl"\r\n                  data-prog-key="artists.items.paszczyk.programs.0"\r\n                  data-prog-img="assets/artists/Paszczyk/Paszczyk_poster.jpg"\r\n                  data-swap-photo="assets/artists/Paszczyk/Paszczyk_show_base.png"\r\n                  data-swap-bg="assets/michal_paszczyk_bg1.jpg">\r\n            <img class="program__img" src="assets/artists/Paszczyk/Paszczyk_poster.jpg" alt="Autorski spektakl" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.paszczyk.programs.0.title">Autorski spektakl</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.paszczyk.programs.0.desc" aria-hidden="true">\r\n              Autorska 60-minutowa formua czca monolog, elementy interaktywne i gry z publicznoci. Program jest dynamiczny i prowadzi widza przez zrnicowane emocje  od humoru po chwile refleksji.\r\n\r\n              Micha moe peni rol konferansjera lub prowadzcego gwn cz artystyczn wieczoru, dostosowujc materia do grupy docelowej i charakteru wydarzenia.\r\n\r\n              Techniczne: mikrofon bezprzewodowy, monitoring sceniczny, minimalna scenografia (opcjonalnie).\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </article>\r\n\r\n    \x3c!-- ARTYSTA: Skiba --\x3e\r\n    <article class="artist is-themed" id="artist-skiba" data-artist-id="skiba">\r\n      <img class="artist__photo" src="assets/artists/Skiba/Skiba_base.png" alt="Skiba" width="500" height="500" />\r\n      <div class="artist__content">\r\n        <h3 class="artist__name" data-i18n="artists.items.skiba.name">Skiba</h3>\r\n\r\n        <div class="artist__bio" data-i18n="artists.items.skiba.bio">\r\n          Skiba to dowiadczony showman i autor stand-upw. Jego materiay s energiczne, czsto zabarwione ironicznie i dopasowane do publicznoci dorosej.\r\n\r\n          Sprawdza si na wieczornych eventach, kabaretowych blokach oraz jako prowadzcy czci artystycznej. Potrafi rwnie przygotowa program tematyczny pod wydarzenie firmowe.\r\n\r\n          Na yczenie tworzy krtki format z interakcj i improwizacj w oparciu o tematy zaproponowane przez organizatora.\r\n        </div>\r\n\r\n        <div class="artist__programs" role="list">\r\n          <button class="program" type="button"\r\n                  aria-label="Skiba  Stand-up / show"\r\n                  data-prog-key="artists.items.skiba.programs.0"\r\n                  data-prog-img="assets/artists/Skiba/Skiba_show_poster.png"\r\n                  data-swap-photo="assets/artists/Skiba/Skiba_show_base.png"\r\n                  data-swap-bg="assets/skiba_bg1.jpg">\r\n            <img class="program__img" src="assets/artists/Skiba/Skiba_show_poster.png" alt="Stand-up / show" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.skiba.programs.0.title">Stand-up / show</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.skiba.programs.0.desc" aria-hidden="true">\r\n              4560 minut stand-upu i show z elementami improwizacji. Skiba buduje kontakt z publicznoci i potrafi utrzyma wysoki poziom energii przez cay wystp.\r\n\r\n              Program mona dopasowa pod ton eventu  od ostrzejszych, satyrycznych kawakw po agodniejsze, firmowe wersje materiau.\r\n\r\n              Wymagania: mikrofon, minimalne owietlenie sceniczne, prosta scenografia.\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </article>\r\n\r\n    \x3c!-- ARTYSTA: DJ Choinax --\x3e\r\n    <article class="artist is-themed" id="artist-djchoinax" data-artist-id="dj_choinax">\r\n      <img class="artist__photo" src="assets/artists/DJChoinax/DJChoinax_base.png" alt="DJ Choinax" width="500" height="500" />\r\n      <div class="artist__content">\r\n        <h3 class="artist__name" data-i18n="artists.items.dj_choinax.name">DJ Choinax</h3>\r\n\r\n        <div class="artist__bio" data-i18n="artists.items.dj_choinax.bio">\r\n          DJ Choinax to specjalista od zarwno klubowych, jak i eventowych setw. Jego miksowanie czy energi klubowych bangerw z elegancj setw eventowych.\r\n\r\n          Posiada dowiadczenie w pracy z du publicznoci, wietnie rozumie dynamik imprez i potrafi dopasowa playlist do profilu uczestnikw.\r\n\r\n          Oferuje kompleksow obsug DJ-sk: od miksu po wspprac z realizatorem wiata i dwiku.\r\n        </div>\r\n\r\n        <div class="artist__programs" role="list">\r\n          <button class="program" type="button"\r\n                  aria-label="DJ Choinax  Club set"\r\n                  data-prog-key="artists.items.dj_choinax.programs.0"\r\n                  data-prog-img="assets/artists/DJChoinax/DJChoinax_base_club.png"\r\n                  data-swap-photo="assets/artists/DJChoinax/DJChoinax_base.png"\r\n                  data-swap-bg="assets/choinax_bg1.jpg">\r\n            <img class="program__img" src="assets/artists/DJChoinax/DJChoinax_base_club.png" alt="Club set" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.dj_choinax.programs.0.title">Club set</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.dj_choinax.programs.0.desc" aria-hidden="true">\r\n              Dynamiczny klubowy set 60120 minut z miksami i przejciami utrzymujcymi parkiet w ruchu. Idealny na afterparty, nocne koncerty i kluby.\r\n\r\n              Choinax wsppracuje z wizualami i realizatorem wiata  proponujemy synchronizacj beatw z prostymi efektami owietleniowymi dla wzmocnienia dowiadczenia.\r\n\r\n              Wymagania techniczne: st DJ, opcjonalny serwis USB/USB-A, monitoring, wsppraca z FOH.\r\n            </div>\r\n          </button>\r\n\r\n          <button class="program" type="button"\r\n                  aria-label="DJ Choinax  Event set"\r\n                  data-prog-key="artists.items.dj_choinax.programs.1"\r\n                  data-prog-img="assets/artists/DJChoinax/DJChoinax_base_event.png"\r\n                  data-swap-photo="assets/artists/DJChoinax/DJChoinax_base.png"\r\n                  data-swap-bg="assets/choinax_bg2.jpg">\r\n            <img class="program__img" src="assets/artists/DJChoinax/DJChoinax_base_event.png" alt="Event set" loading="lazy">\r\n            <div class="program__title" data-i18n="artists.items.dj_choinax.programs.1.title">Event set</div>\r\n\r\n            <div class="program__info" data-i18n="artists.items.dj_choinax.programs.1.desc" aria-hidden="true">\r\n              Set eventowy 6090 minut  mieszanka muzyki tanecznej i bardziej stonowanych utworw, dopasowana do rodzinnych imprez, eventw firmowych i festynw.\r\n\r\n              Choinax adaptuje energi setu w zalenoci od pory wieczoru i profilu goci, zapewniajc muzyczne to i momenty kulminacyjne.\r\n\r\n              Wymagania: podstawowe stanowisko DJ, drobne wsparcie front-of-house w zalenoci od wielkoci imprezy.\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </article>\r\n\r\n  </div>\r\n\r\n  \x3c!-- lightbox ( for JS) --\x3e\r\n  <div class="artists-lightbox" id="artists-lightbox" aria-hidden="true">\r\n    <div class="artists-lightbox__backdrop" id="artists-lightbox-backdrop"></div>\r\n    <figure class="artists-lightbox__panel" role="dialog" aria-modal="true" aria-labelledby="artists-lightbox-title">\r\n      <img class="artists-lightbox__img" id="artists-lightbox-img" src="" alt="" />\r\n      <figcaption class="artists-lightbox__caption">\r\n        <h4 class="artists-lightbox__title" id="artists-lightbox-title"></h4>\r\n        <p class="artists-lightbox__desc" id="artists-lightbox-desc"></p>\r\n      </figcaption>\r\n    </figure>\r\n  </div>',_='<div class="contacts-bg"></div>\r\n<h2 class="contacts-title" data-i18n="contacts.title"></h2>\r\n<div class="contacts-title-border"></div>\r\n\r\n<div class="contacts-box">\r\n    \r\n    <form class="form form--contact" novalidate>\r\n        <div class="form__group">\r\n            <label for="name" class="form__label" data-i18n="contacts.form.nameLabel"></label>\r\n            <input type="text" id="name" name="name" class="form__input" data-i18n="contacts.form.namePlaceholder" required>\r\n        </div>\r\n\r\n        <div class="form__group">\r\n            <label for="email" class="form__label" data-i18n="contacts.form.emailLabel"></label>\r\n            <input type="email" id="email" name="email" class="form__input" data-i18n="contacts.form.emailPlaceholder" required>\r\n        </div>\r\n\r\n        <div class="form__group">\r\n            <label for="phone" class="form__label" data-i18n="contacts.form.phoneLabel"></label>\r\n            <input type="tel" id="phone" name="phone" class="form__input" data-i18n="contacts.form.phonePlaceholder" required>\r\n        </div>\r\n\r\n        <div class="form__group">\r\n            <label for="message" class="form__label" data-i18n="contacts.form.messageLabel"></label>\r\n            <textarea id="message" name="message" class="form__textarea" rows="5" data-i18n="contacts.form.messagePlaceholder" required></textarea>\r\n        </div>\r\n\r\n        <fieldset class="form__fieldset">\r\n            <legend class="form__legend" data-i18n="contacts.form.interestLegend"></legend>\r\n\r\n            <label class="form__checkbox">\r\n            <input type="checkbox" name="interest" value="concerts" checked>\r\n            <span class="form__checkbox-label" data-i18n="contacts.form.interestConcerts"></span>\r\n            </label>\r\n\r\n            <label class="form__checkbox">\r\n            <input type="checkbox" name="interest" value="lighting" checked>\r\n            <span class="form__checkbox-label" data-i18n="contacts.form.interestLighting"></span>\r\n            </label>\r\n\r\n            <label class="form__checkbox">\r\n            <input type="checkbox" name="interest" value="artist" checked>\r\n            <span class="form__checkbox-label" data-i18n="contacts.form.interestArtist"></span>\r\n            </label>\r\n\r\n            <label class="form__checkbox">\r\n            <input type="checkbox" name="interest" value="event-planning" checked>\r\n            <span class="form__checkbox-label" data-i18n="contacts.form.interestEventPlanning"></span>\r\n            </label>\r\n\r\n            <label class="form__checkbox">\r\n            <input type="checkbox" name="interest" value="sponsorships" checked>\r\n            <span class="form__checkbox-label" data-i18n="contacts.form.interestSponsorships"></span>\r\n            </label>\r\n\r\n            <label class="form__checkbox">\r\n            <input type="checkbox" name="interest" value="technical" checked>\r\n            <span class="form__checkbox-label" data-i18n="contacts.form.interestTechnical"></span>\r\n            </label>\r\n        </fieldset>\r\n\r\n        <button type="submit" class="form__submit" data-i18n="contacts.form.submit"></button>\r\n    </form>\r\n\r\n    <div class="contacts-box-border"></div>\r\n\r\n    <div class="contacts-box-contacts">\r\n        <h3 class="contacts-box-contacts-title" data-i18n="contacts.info.title"></h3>\r\n\r\n        <div class="contacts-box-contacts-info">\r\n            <div class="contacts-box-contacts-info-persona">\r\n                <h5 class="contacts-box-contacts-info-persona-label" data-i18n="contacts.info.directorLabel"></h5>\r\n                <div class="contacts-box-contacts-info-persona-box">\r\n                    <span class="contacts-box-contacts-info-persona-box-name" data-i18n="contacts.info.directorName"></span>\r\n                    <a href="tel:+48796270792" class="contacts-box-contacts-info-persona-box-tel" data-i18n="contacts.info.directorPhone"></a>\r\n                </div>\r\n            </div>\r\n            <div class="contacts-box-contacts-info-persona">\r\n                <h5 class="contacts-box-contacts-info-persona-label" data-i18n="contacts.info.technicalDirectorLabel"></h5>\r\n                <div class="contacts-box-contacts-info-persona-box">\r\n                    <span class="contacts-box-contacts-info-persona-box-name" data-i18n="contacts.info.technicalDirectorName"></span>\r\n                    <a href="tel:+48602465066" class="contacts-box-contacts-info-persona-box-tel" data-i18n="contacts.info.technicalDirectorPhone"></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="contacts-box-contacts-adres">\r\n            <h4 class="contacts-box-contacts-adres-title" data-i18n="contacts.info.map"></h4>\r\n            <span class="contacts-box-contacts-adres-info" data-i18n="contacts.info.adres"></span>\r\n            <div id="map" class="leaflet-map"></div>\r\n        </div>\r\n    </div>\r\n</div>',f='<div class="footer">\r\n  <div class="footer__container">\r\n\r\n    <div class="footer__grid footer__grid--2">\r\n      \x3c!-- 1)   --\x3e\r\n      <section class="footer__about" aria-labelledby="footer-about-title">\r\n        <h4 id="footer-about-title" class="footer__title" data-i18n="footer.about.title">Pro Live Events</h4>\r\n        <p class="footer__text" data-i18n="footer.about.text">\r\n          Professional organization of concerts and events. Lighting, sound, stage  everything turnkey across Poland and abroad.\r\n        </p>\r\n\r\n        <div class="footer__separator" aria-hidden="true"></div>\r\n\r\n        \x3c!--  ( FB + IG) --\x3e\r\n        <ul class="footer__socials" aria-label="Social media">\r\n          <li>\r\n            <a class="footer__social" href="https://facebook.com" target="_blank" rel="noopener" aria-label="Facebook" title="Facebook">\r\n              <img src="assets/social/Facebook_ico.png" alt="" loading="lazy">\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a class="footer__social" href="https://www.instagram.com/proliveevents/" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">\r\n              <img src="assets/social/Instagram_ico.png" alt="" loading="lazy">\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </section>\r\n\r\n      \x3c!-- 2)  + Newsletter --\x3e\r\n      <div class="footer__right">\r\n        <nav class="footer__links" aria-labelledby="footer-links-title">\r\n          <h4 id="footer-links-title" class="footer__title" data-i18n="footer.links.title">Quick Links</h4>\r\n          <ul class="footer__menu">\r\n            <li><a class="footer__link" href="#top" data-i18n="footer.links.home">Home</a></li>\r\n            <li><a class="footer__link" href="#proliveevents" data-i18n="footer.links.ple">Pro Live Events</a></li>\r\n            <li><a class="footer__link" href="#flesh" data-i18n="footer.links.flashpro">FlashPro</a></li>\r\n            <li><a class="footer__link" href="#gallery" data-i18n="footer.links.gallery"></a></li>\r\n            <li><a class="footer__link" href="#artists" data-i18n="footer.links.artists"></a></li>\r\n            <li><a class="footer__link" href="#contacts" data-i18n="footer.links.contact"></a></li>\r\n          </ul>\r\n        </nav>\r\n\r\n        \x3c!--      --\x3e\r\n        <div class="footer__separator footer__separator--sub" aria-hidden="true"></div>\r\n\r\n        <form class="footer__newsletter" action="#" method="post" novalidate aria-labelledby="footer-newsletter-title">\r\n          <h4 id="footer-newsletter-title" class="footer__title" data-i18n="footer.newsletter.label">Newsletter</h4>\r\n\r\n          <div class="footer__newsletter-row">\r\n            <input id="nl-email" name="email" type="email" class="footer__input"\r\n                   placeholder="e-mail" required aria-required="true" />\r\n            <button type="submit" class="footer__btn" data-i18n="footer.newsletter.submit">OK</button>\r\n          </div>\r\n\r\n          <p class="footer__note">\r\n            <input id="nl-consent" type="checkbox" required aria-required="true">\r\n            <label for="nl-consent" data-i18n="footer.newsletter.consent">\r\n              I agree to the processing of my data in accordance with the Privacy Policy.\r\n            </label>\r\n          </p>\r\n\r\n          \x3c!--   --\x3e\r\n          <p class="footer__form-msg" aria-live="polite"></p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!--      --\x3e\r\n    <div class="footer__legal-separator" aria-hidden="true"></div>\r\n\r\n    \x3c!-- 3)  : Privacy Policy ,   ,  ""  --\x3e\r\n    <div class="footer__legal footer__legal--centered">\r\n      <a class="footer__policy" href="/privacy.html" data-i18n="footer.links.privacy">Privacy Policy</a>\r\n      <p class="footer__copy"> <span data-i18n="footer.legal.year">2025</span> Pro Live Events. <span data-i18n="footer.legal.rights">All rights reserved.</span></p>\r\n      <button class="footer__totop footer__totop--right" aria-label="Back to top" title="Back to top"></button>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!-- POPUP: Privacy Policy --\x3e\r\n  <div class="footer-modal" id="privacy-modal" hidden>\r\n    <div class="footer-modal__overlay" data-close="true"></div>\r\n    <div class="footer-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="privacy-title">\r\n      <button class="footer-modal__close" type="button" aria-label="Close"></button>\r\n      <h3 id="privacy-title" class="footer-modal__title">Privacy Policy</h3>\r\n      <div class="footer-modal__content">\r\n        <p><strong>Sample text.</strong> This is a placeholder for your Privacy Policy. It explains what data we collect, why we collect it, how long we store it, and how users can request access or deletion of their data.</p>\r\n        <p>We use your e-mail exclusively to send our newsletter. You can unsubscribe at any time by clicking the link in any newsletter message.</p>\r\n        <p>Controller: Pro Live Events, Opole, Poland. Contact: privacy@pro-live-events.pl</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n';let g=!1;const v=()=>{const t=document.querySelector(".header-box-options-lang"),e=t?.querySelector(".header-box-options-lang-dropdown");if(!t||!e)return;const i="dropdownOpen";e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-haspopup","listbox"),e.setAttribute("aria-expanded","false");const n=()=>e.classList.contains(i),o=()=>{e.classList.add(i),e.setAttribute("aria-expanded","true")},s=()=>{e.classList.remove(i),e.setAttribute("aria-expanded","false")},r=t=>{if(!t)return;l(t),localStorage.setItem("lang",t);const i=e.querySelector(`img[data-lang-btn="${t}"]`),n=i?.closest(".header-box-options-lang-dropdown-box"),o=e.firstElementChild;n&&o&&n!==o&&e.insertBefore(n,o)};(()=>{const t=localStorage.getItem("lang");if(t)return void r(t);const e={pl:"pl","pl-PL":"pl",en:"en","en-GB":"en","en-US":"en",de:"de","de-DE":"de",ru:"ru","ru-RU":"ru"}[navigator.language]||"en";r(e)})(),e.addEventListener("click",t=>{if(!n())return void o();const e=t.target.closest(".header-box-options-lang-dropdown-box");if(!e)return;const i=e.querySelector("img[data-lang-btn]");if(!i)return;const a=i.getAttribute("data-lang-btn");r(a),s()}),e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||t.repeat?"Escape"===t.key&&(s(),e.blur()):(t.preventDefault(),n()?s():o())});document.addEventListener("click",e=>{t.contains(e.target)||s()})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",v,{once:!0}):v();var y=i(481),w=i.n(y);const b=i.p+"assets/pin_proLiveEvents.png";let x=null;function z(t=8){const e=[];for(let i=1;i<=t;i++)e.push({src:`https://picsum.photos/550/550?random=${i}&grayscale=1&blur=2`,name:`Gallery Image ${String(i).padStart(2,"0")}`,filename:`placeholder-${i}.jpg`,index:i,isPlaceholder:!0});return e}let k,P,L,T,S,E=null;function M(){if(k=document.getElementById("artists-lightbox"),P=document.getElementById("artists-lightbox-backdrop"),L=document.getElementById("artists-lightbox-img"),T=document.getElementById("artists-lightbox-title"),S=document.getElementById("artists-lightbox-desc"),!k||!P||!L)return;const t=()=>{if(k.classList.remove("is-open"),k.setAttribute("aria-hidden","true"),L.src="",L.alt="",T&&(T.textContent=""),S&&(S.textContent=""),"function"==typeof E){const t=E;E=null,t()}};P.addEventListener("click",t),L.addEventListener("click",t),document.addEventListener("keydown",e=>{!k.classList.contains("is-open")||"Escape"!==e.key&&"Esc"!==e.key||t()})}function C(t){const e=t.getAttribute("data-bg")||"";e&&(t.style.backgroundImage=`url('${e}')`);const i=t.querySelector(".artist__photo"),n=t.querySelector(".artist__desc"),o=t.querySelector(".artist__programs");if(!i||!n||!o)return;const s=i.getAttribute("src"),r=n.textContent;let a=!1,l={photo:s,bg:e,desc:r};const c=o=>{const a=o.getAttribute("data-swap-photo")||s,c=o.getAttribute("data-swap-bg")||e,h=o.getAttribute("data-prog-desc")||r;l={photo:a,bg:c,desc:h},a&&(i.src=a),t.style.backgroundImage=c?`url('${c}')`:"",n.textContent=h},h=()=>{l={photo:s,bg:e,desc:r},i.src=s,t.style.backgroundImage=e?`url('${e}')`:"",n.textContent=r};o.addEventListener("mouseover",t=>{const e=t.target.closest(".program");e&&c(e)}),o.addEventListener("mouseleave",()=>{a||h()}),o.addEventListener("click",e=>{const i=e.target.closest(".program");if(!i)return;c(i),a=!0;const n=i.getAttribute("data-prog-img"),o=i.getAttribute("aria-label")||"";!function(t,e,i,n="",o=""){k||M(),k&&L&&(E=i||null,L.src=t,L.alt=e||"Program image",T&&(T.textContent=n||e||""),S&&(S.textContent=o||""),k.classList.add("is-open"),k.setAttribute("aria-hidden","false"))}(n,o,()=>{a=!1;const e=t.querySelector(".program:hover");e?c(e):h()},o||i.querySelector(".program__title")?.textContent||"",i.getAttribute("data-prog-desc")||"")})}function A(){M(),document.querySelectorAll("#artists .artist").forEach(C)}const j=new MutationObserver(()=>{const t=document.querySelector("#artists #artists-list");t&&t.children.length&&(A(),j.disconnect())});j.observe(document.documentElement,{childList:!0,subtree:!0});class I{constructor(t){this.form=t,this.isSubmitting=!1,this.emailjsConfig={serviceId:"service_g7nuqho",templateId:"template_59zzxg7",publicKey:"6IU9ExLVLsK1m5nV0"},this.init()}init(){this.form?(this.initEmailJS(),this.form.addEventListener("submit",t=>{t.preventDefault(),this.handleSubmit()})):console.error(" Form element not found")}initEmailJS(){if("undefined"==typeof emailjs){const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js",t.onload=()=>{this.initializeEmailJS()},t.onerror=()=>{console.error(" Failed to load EmailJS script")},document.head.appendChild(t)}else this.initializeEmailJS()}initializeEmailJS(){try{emailjs.init(this.emailjsConfig.publicKey)}catch(t){console.error(" EmailJS initialization error:",t)}}async handleSubmit(){if(this.isSubmitting)return;const t=this.getTemplateParams(),e=this.validateForm(t);if(e.isValid){this.isSubmitting=!0,this.setSubmitButtonState(!0);try{await this.sendViaEmailJS(t),this.showNotifications([this.getTranslation("contacts.form.errors.success")],"success"),this.form.reset()}catch(t){console.error(" EmailJS submission error:",t),console.error("Error details:",{status:t.status,text:t.text,service:this.emailjsConfig.serviceId,template:this.emailjsConfig.templateId});let e=this.getTranslation("contacts.form.errors.submitFailed");400===t.status?e=" 400:   ":403===t.status?e=" 403:  Public Key":404===t.status&&(e=" 404:     "),this.showNotifications([e],"error")}finally{this.isSubmitting=!1,this.setSubmitButtonState(!1)}}else this.showNotifications(e.errors,"error")}getTemplateParams(){const t=new FormData(this.form);for(let[e,i]of t.entries());const e=this.form.querySelectorAll('input[name="interest"]:checked'),i=Array.from(e).map(t=>this.getInterestLabel(t.value)).join(", "),n=new Date,o=n.toLocaleString("pl-PL"),s=n.toLocaleTimeString("pl-PL"),r={from_name:String(t.get("name")?.trim()||""),from_email:String(t.get("email")?.trim()||""),phone:String(t.get("phone")?.trim()||""),message:String(t.get("message")?.trim()||""),interests:String(i||"None"),submission_date:String(o),time:String(s),language:String(a())};return console.log(" Final template parameters:"),Object.entries(r).forEach(([t,e])=>{}),r}getInterestLabel(t){const e=a();return{pl:{concerts:"Koncerty",lighting:"Owietlenie",artist:"Artyci","event-planning":"Planowanie wydarze",sponsorships:"Sponsoring",technical:"Techniczne"},en:{concerts:"Concerts",lighting:"Lighting",artist:"Artists","event-planning":"Event Planning",sponsorships:"Sponsorships",technical:"Technical"}}[e]?.[t]||t}validateForm(t){const e=[],{from_name:i,from_email:n,phone:o,message:s}=t;if(!i||""===i.trim()){const t=this.getTranslation("contacts.form.errors.nameRequired");e.push(t)}const r=n&&""!==n.trim(),a=o&&""!==o.trim();if(!r&&!a){const t=this.getTranslation("contacts.form.errors.contactRequired");e.push(t)}if(r&&!this.isValidEmail(n)){const t=this.getTranslation("contacts.form.errors.emailInvalid");e.push(t)}if(!s||""===s.trim()){const t=this.getTranslation("contacts.form.errors.messageRequired");e.push(t)}return{isValid:0===e.length,errors:e}}async sendViaEmailJS(t){if("undefined"==typeof emailjs)throw console.error(" EmailJS not loaded"),new Error("EmailJS not loaded");try{return await emailjs.send(this.emailjsConfig.serviceId,this.emailjsConfig.templateId,t)}catch(t){throw console.error(" EmailJS send failed"),console.error("Error object:",t),t}}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}setSubmitButtonState(t){const e=this.form.querySelector(".form__submit");e?t?(e.disabled=!0,e.innerHTML='<span class="loading-spinner"></span> '+this.getTranslation("contacts.form.sending")):(e.disabled=!1,e.textContent=this.getTranslation("contacts.form.submit")):console.error(" Submit button not found")}showNotifications(t,e){t.forEach(t=>{"function"==typeof showNotification?showNotification(t,e):alert(`${e.toUpperCase()}: ${t}`)})}getTranslation(t){const e=a();return{pl:{"contacts.form.errors.nameRequired":"Imi i nazwisko jest wymagane","contacts.form.errors.contactRequired":"Prosz poda adres email lub numer telefonu","contacts.form.errors.messageRequired":"Wiadomo jest wymagana","contacts.form.errors.emailInvalid":"Prosz poda poprawny adres email","contacts.form.errors.submitFailed":"Wystpi b podczas wysyania formularza","contacts.form.errors.success":"Formularz zosta wysany pomylnie!","contacts.form.sending":"Wysyanie...","contacts.form.submit":"Wylij wiadomo"},en:{"contacts.form.errors.nameRequired":"Full name is required","contacts.form.errors.contactRequired":"Please provide email or phone number","contacts.form.errors.messageRequired":"Message is required","contacts.form.errors.emailInvalid":"Please provide a valid email address","contacts.form.errors.submitFailed":"An error occurred while submitting the form","contacts.form.errors.success":"Form submitted successfully!","contacts.form.sending":"Sending...","contacts.form.submit":"Send Message"}}[e]?.[t]||t}}document.addEventListener("DOMContentLoaded",()=>{(()=>{if(document.querySelector("#form-submit-styles"))return;const t=document.createElement("style");t.id="form-submit-styles",t.textContent="\n        .loading-spinner {\n            display: inline-block;\n            width: 16px;\n            height: 16px;\n            border: 2px solid transparent;\n            border-top: 2px solid currentColor;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n        \n        .form__submit:disabled {\n            opacity: 0.7;\n            cursor: not-allowed;\n        }\n    ",document.head.appendChild(t)})();const t=document.querySelector(".form--contact");t?new I(t):console.error(" Contact form not found in DOM")}),window.debugFormSubmit=function(){document.querySelector(".form--contact")&&console.log("EmailJS loaded:","undefined"!=typeof emailjs)};class O{constructor(){this.apiKey="$2y$10$/deiWOgg0uNBLlgzD/2WueStRmjlINlDkndMi6cEytMylhRhA3Hqu",this.email="plinkvitop@gmail.com",this.baseURL="/api",this.token=null,this.tokenExpiry=null}async getAuthToken(){try{if(this.token&&this.tokenExpiry&&new Date<this.tokenExpiry)return console.log(" Using cached token"),this.token;console.log(" Getting auth token from:",`${this.baseURL}/token`);const t=await fetch(`${this.baseURL}/token`,{method:"GET",headers:{"X-Api-Key":this.email,Authorization:`Bearer ${this.apiKey}`},credentials:"omit"});if(console.log(" Token response status:",t.status),!t.ok){const e=await t.text();throw console.log(" Token error response:",e),new Error(`HTTP error! status: ${t.status}`)}const e=await t.json();if(console.log(" Token response JSON:",e),!e.token)throw new Error("API error: No token received");return this.token=e.token,this.tokenExpiry=new Date(Date.now()+72e5),console.log(" Token received successfully, expires:",this.tokenExpiry),this.token}catch(t){throw console.error(" Error getting auth token:",t),t}}async getProducts(){try{const t=await this.getAuthToken();console.log(" Getting products from:",`${this.baseURL}/products`);const e=await fetch(`${this.baseURL}/products`,{method:"GET",headers:{"X-Api-Key":this.apiKey,Authorization:`Bearer ${t}`},credentials:"omit"});if(console.log(" Products response status:",e.status),!e.ok){const t=await e.text();throw console.log(" Products error response:",t),new Error(`HTTP error! status: ${e.status}`)}const i=await e.json();return console.log(" Products response JSON:",i),i.list&&Array.isArray(i.list)?(console.log(" Found products:",i.list.length,"items"),i.list.length>0&&console.log(" First product sample:",i.list[0]),i.list):(console.warn(" No products list found in response"),[])}catch(t){return console.error(" Error getting products:",t),[]}}async getCategories(){try{const t=await this.getAuthToken();console.log(" Getting categories from:",`${this.baseURL}/categories`);const e=await fetch(`${this.baseURL}/categories`,{method:"GET",headers:{"X-Api-Key":this.apiKey,Authorization:`Bearer ${t}`},credentials:"omit"});if(console.log(" Categories response status:",e.status),!e.ok){const t=await e.text();throw console.log(" Categories error response:",t),new Error(`HTTP error! status: ${e.status}`)}const i=await e.json();return console.log(" Categories response JSON:",i),i.list&&Array.isArray(i.list)?(console.log(" Found categories:",i.list.length,"items"),i.list.length>0&&console.log(" First category sample:",i.list[0]),i.list):(console.warn(" No categories list found in response"),[])}catch(t){return console.error(" Error getting categories:",t),[]}}}const Z=new class{constructor(){this.api=new O,this.container=null,this.isInitialized=!1,this.currentPage=1,this.productsPerPage=12,this.allProducts=[],this.filteredProducts=[],this.categories=[],this.uniqueCategories=[],this.currentCategory="all",this.modal=null,this.currentProduct=null}async init(){try{if(this.container=document.querySelector(".flesh"),!this.container)return void console.log(" Flesh container not found");if(this.isInitialized)return void console.log(" Flesh already initialized");console.log(" Starting Flesh initialization..."),this.showLoading();const[t,e]=await Promise.all([this.api.getProducts(),this.api.getCategories()]);this.allProducts=t,this.categories=e,console.log(" Raw products:",t),console.log(" Raw categories:",e),this.processCategories(e),console.log(" Loaded - Products:",t.length,"Unique Categories:",this.uniqueCategories.length),0===t.length?(console.warn(" No products loaded, showing empty state"),this.showEmptyState()):(this.render(),this.createModal()),this.isInitialized=!0,console.log(" Flesh initialized successfully")}catch(t){console.error(" Flesh initialization error:",t),this.showError("Failed to load products. Please try again.")}}scrollToSection(){const t=document.querySelector(".flesh")||document.querySelector(".flesh-container")||this.container;if(t)try{t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch(e){console.log("Using fallback scroll method");const i=-100,n=t.getBoundingClientRect().top+window.pageYOffset+i;window.scrollTo({top:n,behavior:"smooth"})}}createModal(){document.body.insertAdjacentHTML("beforeend",'\n            <div class="flesh-modal" id="fleshModal">\n                <div class="flesh-modal-overlay"></div>\n                <div class="flesh-modal-content">\n                    <button class="flesh-modal-close" id="fleshModalClose">\n                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">\n                            <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n                        </svg>\n                    </button>\n                    <div class="flesh-modal-body" id="fleshModalBody">\n                        \x3c!--     --\x3e\n                    </div>\n                </div>\n            </div>\n        '),this.modal=document.getElementById("fleshModal"),this.addModalEventListeners()}addModalEventListeners(){const t=document.getElementById("fleshModalClose"),e=this.modal.querySelector(".flesh-modal-overlay"),i=()=>{this.modal.classList.remove("active"),document.body.style.overflow="";const t=document.getElementById("fleshModalBody");t&&(t.innerHTML="")};t&&t.addEventListener("click",i),e&&e.addEventListener("click",i),document.addEventListener("keydown",t=>{"Escape"===t.key&&this.modal.classList.contains("active")&&i()})}showProductDetails(t){this.currentProduct=t;const e=document.getElementById("fleshModalBody"),i=this.modal.querySelector(".flesh-modal-content");if(!e||!i)return;const n=this.extractProductData(t);e.scrollTop=0,i.scrollTop=0,e.innerHTML=this.renderProductModal(n),this.modal.classList.add("active"),document.body.style.overflow="hidden",setTimeout(()=>{e.scrollTop=0,i.scrollTop=0,setTimeout(()=>{e.scrollTop=0,i.scrollTop=0},50)},10)}renderProductModal(t){const e=(t.raw.lang?.pl||{}).description||t.raw.default_description||"",i=this.extractSpecifications(t.raw);return`\n            <div class="flesh-modal-product">\n                <div class="flesh-modal-image">\n                    ${t.image?`<img src="${t.image}" alt="${t.name}" loading="lazy">`:'<div class="no-image">No Image</div>'}\n                </div>\n                \n                <div class="flesh-modal-info">\n                    <h2 class="flesh-modal-title">${this.escapeHtml(t.name)}</h2>\n                    \n                    <div class="flesh-modal-price">${t.price}</div>\n                    \n                    <div class="flesh-modal-meta">\n                        <div class="flesh-modal-code"><strong>Product Code:</strong> ${t.code}</div>\n                        ${t.brand?`<div class="flesh-modal-brand"><strong>Brand:</strong> ${this.escapeHtml(t.brand)}</div>`:""}\n                        ${t.raw.ean?`<div class="flesh-modal-ean"><strong>EAN:</strong> ${t.raw.ean}</div>`:""}\n                    </div>\n                    \n                    ${e?`\n                        <div class="flesh-modal-description">\n                            <h3>Description</h3>\n                            <div class="flesh-modal-description-content">${e}</div>\n                        </div>\n                    `:""}\n                    \n                    ${i?`\n                        <div class="flesh-modal-specs">\n                            <h3>Specifications</h3>\n                            <div class="flesh-modal-specs-content">${i}</div>\n                        </div>\n                    `:""}\n                </div>\n            </div>\n        `}extractSpecifications(t){const e=t.lang?.pl?.specs;if(e&&Array.isArray(e))return this.renderSpecsArray(e);if(t.specs&&Array.isArray(t.specs))return this.renderSpecsArray(t.specs);if(t.lang)for(const[e,i]of Object.entries(t.lang))if(i.specs&&Array.isArray(i.specs))return console.log(` Using specs from ${e} locale as fallback`),this.renderSpecsArray(i.specs);return""}renderSpecsArray(t){return t&&Array.isArray(t)?t.map(t=>t.header&&t.data?`\n                <div class="flesh-modal-spec-group">\n                    <h4>${this.escapeHtml(t.header)}</h4>\n                    <div class="flesh-modal-spec-list">\n                        ${t.data.map(t=>`\n                            <div class="flesh-modal-spec-item">\n                                <span class="flesh-modal-spec-name">${this.escapeHtml(t.name)}:</span>\n                                <span class="flesh-modal-spec-value">${this.escapeHtml(t.value)}</span>\n                            </div>\n                        `).join("")}\n                    </div>\n                </div>\n            `:"").join(""):""}processCategories(t){const e=[];t.forEach(t=>{"string"==typeof t?e.push(t):t.name&&e.push(t.name),t.categories&&Array.isArray(t.categories)&&t.categories.forEach(t=>{"string"==typeof t&&e.push(t)})});const i=new Set;e.forEach(t=>{t&&"string"==typeof t&&(t.includes(">")?t.split(">").map(t=>t.trim()).forEach(t=>{t&&i.add(t)}):i.add(t.trim()))}),this.uniqueCategories=Array.from(i).filter(t=>t).sort(),console.log(" Processed categories:",this.uniqueCategories)}showEmptyState(){if(!this.container)return;this.container.innerHTML=`\n            <div class="flesh-empty">\n                <h2>Our Products</h2>\n                <p>No products available at the moment.</p>\n                <p>Loaded ${this.allProducts.length} products and ${this.uniqueCategories.length} categories.</p>\n                <button class="retry-btn">Try Again</button>\n            </div>\n        `;const t=this.container.querySelector(".retry-btn");t&&t.addEventListener("click",()=>{this.isInitialized=!1,this.init()})}filterProductsByCategory(t){this.currentCategory=t,this.currentPage=1,this.filteredProducts="all"===t?[...this.allProducts]:this.allProducts.filter(e=>this.getProductCategories(e).some(e=>e&&t&&(e.includes(t)||t.includes(e)))),this.render(),setTimeout(()=>{this.scrollToSection()},100)}getProductCategories(t){const e=[],i=t.lang?.pl?.categories;return i&&Array.isArray(i)&&i.forEach(t=>{"string"==typeof t&&e.push(t)}),t.categories&&Array.isArray(t.categories)&&t.categories.forEach(t=>{"string"==typeof t&&e.push(t)}),t.default_categories&&Array.isArray(t.default_categories)&&t.default_categories.forEach(t=>{"string"==typeof t&&e.push(t)}),t.lang&&Object.values(t.lang).forEach(t=>{t.categories&&Array.isArray(t.categories)&&t.categories.forEach(t=>{"string"==typeof t&&e.push(t)})}),e.filter(t=>t)}getPaginatedProducts(){const t=(this.currentPage-1)*this.productsPerPage,e=t+this.productsPerPage;return this.filteredProducts.slice(t,e)}getTotalPages(){return Math.ceil(this.filteredProducts.length/this.productsPerPage)}changePage(t){this.currentPage=t,this.render(),setTimeout(()=>{this.scrollToSection()},100)}showLoading(){this.container&&(this.container.innerHTML='\n            <div class="flesh-loading">\n                <div class="loading-spinner"></div>\n                <p>Loading products...</p>\n            </div>\n        ')}showError(t){if(!this.container)return;this.container.innerHTML=`\n            <div class="flesh-error">\n                <h2>Our Products</h2>\n                <p>${t}</p>\n                <button class="retry-btn">Try Again</button>\n            </div>\n        `;const e=this.container.querySelector(".retry-btn");e&&e.addEventListener("click",()=>{this.isInitialized=!1,this.init()})}render(){if(!this.container)return;this.container.scrollTop=0,0===this.filteredProducts.length&&(this.filteredProducts=[...this.allProducts]);const t=this.getPaginatedProducts(),e=this.getTotalPages();let i=`\n            <div class="flesh-container">\n                <h2 class="flesh-title">Our Products</h2>\n                \n                <div class="flesh-stats">\n                    <p>Showing ${t.length} of ${this.filteredProducts.length} products \n                       ${"all"!==this.currentCategory?`in "${this.currentCategory}"`:""}\n                    </p>\n                </div>\n        `;this.uniqueCategories.length>0&&(i+=`\n                <div class="flesh-categories">\n                    <div class="categories-filter">\n                        <button class="category-btn ${"all"===this.currentCategory?"active":""}" \n                                data-category="all">\n                            All Products (${this.allProducts.length})\n                        </button>\n                        ${this.uniqueCategories.map(t=>{const e=this.allProducts.filter(e=>this.getProductCategories(e).some(e=>e&&t&&(e.includes(t)||t.includes(e)))).length;return e>0?`\n                                    <button class="category-btn ${this.currentCategory===t?"active":""}" \n                                            data-category="${this.escapeHtml(t)}">\n                                        ${this.escapeHtml(t)} (${e})\n                                    </button>\n                                `:""}).join("")}\n                    </div>\n                </div>\n            `),0===t.length?i+='\n                <div class="flesh-empty">\n                    <p>No products found in this category</p>\n                    <button class="show-all-btn">Show All Products</button>\n                </div>\n            ':(i+=`\n                <div class="flesh-products">\n                    ${t.map((t,e)=>{const i=this.extractProductData(t);return this.renderProductCard(i,e)}).join("")}\n                </div>\n            `,e>1&&(i+=`\n                    <div class="flesh-pagination">\n                        <button class="pagination-btn ${1===this.currentPage?"disabled":""}" \n                                data-page="${this.currentPage-1}">\n                             Previous\n                        </button>\n                        \n                        <div class="pagination-numbers">\n                            ${Array.from({length:e},(t,e)=>e+1).map(t=>`\n                                    <button class="pagination-btn ${this.currentPage===t?"active":""}" \n                                            data-page="${t}">\n                                        ${t}\n                                    </button>\n                                `).join("")}\n                        </div>\n                        \n                        <button class="pagination-btn ${this.currentPage===e?"disabled":""}" \n                                data-page="${this.currentPage+1}">\n                            Next \n                        </button>\n                    </div>\n                `)),i+="</div>",this.container.innerHTML=i,this.addEventListeners()}extractProductData(t){const e=t.product_code||t.code||t.id||`ITEM-${Date.now()}`,i=t.lang?.pl||{};return{code:e,name:i.name||t.default_name||t.name||"Unnamed Product",description:i.short_description||t.default_short_description||t.short_description||"",price:this.extractPrice(t),brand:t.brand||"",image:this.extractImage(t),inStock:this.extractStockStatus(t),isArchived:t.isArchived||!1,raw:t}}extractPrice(t){if(void 0!==t.regular_netto&&null!==t.regular_netto){const e=parseFloat(t.regular_netto);if(!isNaN(e))return`${e.toFixed(2)} PLN`}return"Price on request"}extractImage(t){if(t.images){if("string"==typeof t.images)return t.images;if(t.images.main)return t.images.main;if(Array.isArray(t.images)&&t.images.length>0)return t.images[0]}return""}extractStockStatus(t){return void 0===t.amount||t.amount>0}renderProductCard(t,e){const i=t.image?`<img src="${t.image}" alt="${t.name}" loading="lazy">`:'<div class="no-image">No Image</div>',n=t.inStock?"":'<div class="out-of-stock">Out of Stock</div>';return`\n            <div class="flesh-product" data-product-code="${t.code}" data-index="${e}">\n                <div class="product-image-container">\n                    <div class="product-image">\n                        ${i}\n                        ${n}\n                    </div>\n                </div>\n                <div class="product-info">\n                    <div class="product-content">\n                        <h3 class="product-name">${this.escapeHtml(t.name)}</h3>\n                        ${t.description?`<p class="product-short-description">${this.escapeHtml(t.description)}</p>`:""}\n                    </div>\n                    <div class="product-bottom-section">\n                        <div class="product-price">${t.price}</div>\n                        <button class="product-details-btn" data-product-code="${t.code}">\n                            View Details\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `}addEventListeners(){this.container.querySelectorAll(".flesh-product").forEach(t=>{t.addEventListener("click",e=>{if(e.target.closest(".product-details-btn"))return;const i=t.getAttribute("data-product-code"),n=this.allProducts.find(t=>(t.product_code||t.code)===i);n&&this.showProductDetails(n)})}),this.container.querySelectorAll(".category-btn").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();const e=t.target.getAttribute("data-category");this.filterProductsByCategory(e)})}),this.container.querySelectorAll(".pagination-btn:not(.disabled)").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();const e=parseInt(t.target.getAttribute("data-page"));e&&e>0&&this.changePage(e)})});const t=this.container.querySelector(".show-all-btn");t&&t.addEventListener("click",t=>{t.preventDefault(),this.filterProductsByCategory("all")}),this.container.querySelectorAll(".product-details-btn").forEach(t=>{t.addEventListener("click",t=>{t.stopPropagation(),t.preventDefault();const e=t.target.getAttribute("data-product-code"),i=this.allProducts.find(t=>(t.product_code||t.code)===e);i&&this.showProductDetails(i)})})}escapeHtml(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}};document.addEventListener("DOMContentLoaded",()=>{console.log(" DOM ready, initializing Flesh..."),Z.init()}),window.fleshRenderer=Z;const B=(...t)=>console.log("[INIT]",...t);let D=(localStorage.removeItem("lang"),s[N="pl"]&&(r=N,localStorage.setItem("lang",N),document.documentElement.setAttribute("lang",N),document.body.setAttribute("data-lang",N),l(N)),"pl");var N;let R=!1,q=!1;function H(t){t&&(t.dataset.init="1")}function F(t){return t&&"1"===t.dataset.init}async function W(){if(R)B(" Components already initialized - skipping");else{B(" Initializing all components");try{l(D),function(){const t=document.querySelector(".header-logo-img"),e=document.querySelector(".header-box-logo-img");if(!t||!e)return;function i(){const i=(n=(window.scrollY||document.documentElement.scrollTop||0)/100,Math.max(0,Math.min(1,n)));var n;t.style.opacity=String(1-i),t.style.transform=`scale(${1-.1*i})`,e.style.opacity=String(i),e.style.transform=`scale(${.9+.1*i})`}let n=!1;i(),window.addEventListener("scroll",function(){n||(n=!0,requestAnimationFrame(()=>{i(),n=!1}))},{passive:!0}),window.addEventListener("load",i),window.addEventListener("resize",i)}(),function(){const t=document.querySelector(".header-box-options-lang");t&&!t.dataset.inited&&(B(" initLangSwitcher"),v(),t.dataset.inited="true")}(),function(){const t=document.querySelector("[data-theme-toggle]");t&&!t.dataset.inited&&(B(" initThemeToggle"),(()=>{const t=document.querySelector("[data-theme-toggle]");if(!t)return void console.warn(" toggle  ");t.addEventListener("click",()=>{const t="dark"===(document.body.getAttribute("data-theme")||"dark")?"light":"dark";document.body.setAttribute("data-theme",t),localStorage.setItem("theme",t)});const e=localStorage.getItem("theme");e&&document.body.setAttribute("data-theme",e)})(),t.dataset.inited="true")}(),function(){const t=document.documentElement;let e=!1;const i=document.getElementById("privacy-modal"),n=document.querySelector(".footer__policy"),o=i?.querySelector(".footer-modal__close"),s=i?.querySelector(".footer-modal__overlay"),r=()=>{i&&(i.hidden=!0,e&&(t.classList.remove("modal-open"),t.style.removeProperty("--sbw"),e=!1))};n?.addEventListener("click",n=>{n?.preventDefault?.(),i&&(i.hidden=!1,(()=>{if(e)return;const i=window.innerWidth-t.clientWidth;t.style.setProperty("--sbw",`${i}px`),t.classList.add("modal-open"),e=!0})())}),o?.addEventListener("click",r),s?.addEventListener("click",r),document.addEventListener("keydown",t=>{"Escape"===t.key&&i&&!i.hidden&&r()});const a=document.querySelector(".footer__newsletter");if(!a)return;const l=a.querySelector("#nl-email"),c=a.querySelector("#nl-consent"),h=a.querySelector(".footer__btn"),d=a.querySelector(".footer__form-msg"),u=(t,e)=>{d&&(d.textContent=t,d.classList.remove("is-error","is-success"),d.classList.add("success"===e?"is-success":"is-error"))};a.addEventListener("submit",t=>{t.preventDefault(),l.setAttribute("aria-invalid","false");const e=l.value.trim().length>0&&l.checkValidity();if(c.checked){if(!e)return l.setAttribute("aria-invalid","true"),void u("Please enter a valid e-mail address.","error");h.disabled=!0,u("Thank you for subscribing to our news!","success"),setTimeout(()=>{a.reset(),h.disabled=!1,u("","success")},3e3)}else u("Please confirm your consent to receive the newsletter.","error")})}(),function(t={}){const{headerSelector:e=".header",extraOffset:i=10,tweak:n=20}=t,o=document.documentElement,s=document.querySelector(e),r=()=>{const t=(()=>{if(!s)return 0;const t=s.getBoundingClientRect(),e=Math.max(t.top,0),i=Math.min(t.bottom,window.innerHeight);return Math.max(0,i-e)})()+i,e=Math.max(0,t-n);return o.style.setProperty("--header-offset",`${e}px`),e},a=t=>{if(!t||"#"===t||"#!"===t)return;if("#top"===t)return void window.scrollTo({top:0,behavior:"smooth"});const e=document.querySelector(t);if(!e)return;const i=r(),n=Math.max(0,e.getBoundingClientRect().top+window.scrollY-i);window.scrollTo({top:n,behavior:"smooth"}),e.setAttribute("tabindex","-1"),e.focus({preventScroll:!0})},l=t=>{const e=t.currentTarget.getAttribute("href")||"";e.startsWith("#")&&(document.querySelector(e)||"#top"===e)&&(t.preventDefault(),a(e),history.pushState(null,"",e))};document.querySelectorAll('a[href^="#"]').forEach(t=>{t.removeEventListener("click",l),t.addEventListener("click",l)}),window.addEventListener("resize",r),location.hash&&setTimeout(()=>a(location.hash),0),window.addEventListener("hashchange",()=>a(location.hash))}({headerSelector:".header",extraOffset:10}),function(){const t=document.querySelector("#map");t&&!F(t)&&(B(" initLeafletMap"),(()=>{const t=document.getElementById("map");if(!t)return void console.warn("    !");if(x)return void console.log("     ");x=w().map(t,{attributionControl:!1}).setView([50.712511,17.991178],13),w().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attributionControl:!1}).addTo(x),setTimeout(()=>{x.invalidateSize()},200);const e=w().icon({iconUrl:b,iconSize:[50,70],iconAnchor:[30,70],popupAnchor:[0,-70]});w().marker([50.712511,17.991178],{icon:e}).addTo(x).bindPopup("Tu nas znajdziesz")})(),H(t))}(),function(){const t=document.querySelector("#proliveevents");t&&!F(t)&&t.querySelector(".proliveevents-viewport")&&t.querySelector(".proliveevents-wrapper")&&t.querySelector(".proliveevents-block")&&(B(" prolive ready"),H(t))}(),function(){const t=document.querySelector("#gallery");if(t&&!F(t)){const e=t.querySelector(".gallery__viewport"),n=t.querySelector(".gallery__track");e&&n?(B(" initGallery"),function(t="#gallery"){const e=document.querySelector(t);if(!e)return void console.error(` Gallery element not found: ${t}`);const n=e.querySelector(".gallery__viewport"),o=e.querySelector(".gallery__track"),s=e.querySelector(".gallery__btn--prev"),r=e.querySelector(".gallery__btn--next");if(!n||!o)return void console.error(" Gallery viewport or track not found");const a=function(){try{const t=i(188),e=t.keys();return 0===e.length?(console.warn(" No images found in assets/gallery folder"),z()):e.sort((t,e)=>t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})).map((e,i)=>{const n=t(e),o=e.split("/").pop(),s=o.replace(/\.[^/.]+$/,"");return{src:n.default||n,name:s,filename:o,index:i+1}})}catch(t){return console.error(" Error scanning gallery folder:",t),z()}}();if(!a.length)return console.error(" No images available for gallery"),void(o.innerHTML='\n      <li class="gallery__slide gallery__slide--error">\n        <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666; font-family: sans-serif; text-align: center; padding: 20px;">\n          No gallery images found<br>\n          <small>Please add images to src/assets/gallery/ folder</small>\n        </div>\n      </li>\n    ');!function(t,e){t?(t.innerHTML="",e.forEach((e,i)=>{if(!e||!e.src)return void console.warn(" Invalid gallery item:",e);const n=document.createElement("li");n.className="gallery__slide",n.dataset.index=i,n.dataset.name=e.name;const o=document.createElement("img");o.className="gallery__image",o.src=e.src,o.setAttribute("width","550"),o.setAttribute("height","550"),o.loading=i<3?"eager":"lazy",o.alt=`Galeria ${String(i+1).padStart(2,"0")}: ${e.name}`,o.title=e.name,o.onerror=function(){console.error(` Failed to load image: ${e.name}`),this.style.backgroundColor="#f0f0f0",this.style.display="flex",this.style.alignItems="center",this.style.justifyContent="center",this.alt=`Failed to load: ${e.name}`},n.appendChild(o),t.appendChild(n)})):console.error(" Gallery track element is null")}(o,a);let l=Array.from(e.querySelectorAll(".gallery__slide"));if(0===l.length)return void console.error(" No slides created");const c=l[0].cloneNode(!0),h=l[l.length-1].cloneNode(!0);c.dataset.clone="first",h.dataset.clone="last",o.appendChild(c),o.insertBefore(h,l[0]),l=Array.from(e.querySelectorAll(".gallery__slide"));const d=()=>{const t=(e=getComputedStyle(o).gap,Number(String(e).replace("px",""))||0);var e;const i=l[0]?.offsetWidth||550;return{gap:t,slideW:i,sidePad:(n.clientWidth-i)/2,step:i+t}};let{step:u,sidePad:p}=d(),m=1,_=null;const f=(t,e=!1)=>{_&&(cancelAnimationFrame(_),_=null);const i=-t*u+p;e?(o.style.transition="none",o.style.transform=`translate3d(${i}px, 0, 0)`,o.offsetHeight,o.style.transition="",m=t):(o.style.transform=`translate3d(${i}px, 0, 0)`,m=t)},g=t=>{f(t,!1),setTimeout(()=>{const t=l[m];"first"===t?.dataset.clone?f(1,!0):"last"===t?.dataset.clone&&f(l.length-2,!0)},360)},v=()=>{g(m+1)},y=()=>{g(m-1)};f(m,!0);const w=new ResizeObserver(()=>{({step:u,sidePad:p}=d()),f(m,!0)});w.observe(n),s&&s.addEventListener("click",y),r&&r.addEventListener("click",v);const b=t=>{"ArrowLeft"===t.key?(t.preventDefault(),y()):"ArrowRight"===t.key&&(t.preventDefault(),v())};e.addEventListener("keydown",b),e.hasAttribute("tabindex")||e.setAttribute("tabindex","0");const x=Number(e.dataset.autoplay)||0;let k=null;const P=()=>{x&&(L(),k=setInterval(v,x))},L=()=>{k&&(clearInterval(k),k=null)};x>0&&P(),e.addEventListener("mouseenter",L),e.addEventListener("mouseleave",P),e.addEventListener("focusin",L),e.addEventListener("focusout",P);let T=0,S=0,E=!1,M=0;const C=t=>{E=!0,T=t,S=t,M=-m*u+p,o.style.transition="none",L()},A=t=>{if(!E)return;S=t;const e=M+(S-T);o.style.transform=`translate3d(${e}px, 0, 0)`},j=()=>{if(!E)return;E=!1,o.style.transition="";const t=S-T,e=Math.max(40,.25*u);t>e?y():t<-e?v():f(m,!1),P()};n.addEventListener("mousedown",t=>C(t.clientX)),window.addEventListener("mousemove",t=>A(t.clientX)),window.addEventListener("mouseup",j),n.addEventListener("touchstart",t=>{t.preventDefault(),C(t.touches[0].clientX)},{passive:!1}),n.addEventListener("touchmove",t=>{t.preventDefault(),A(t.touches[0].clientX)},{passive:!1}),n.addEventListener("touchend",t=>{t.preventDefault(),j()}),e._destroyGallery=()=>{L(),w.disconnect(),_&&cancelAnimationFrame(_),s&&s.removeEventListener("click",y),r&&r.removeEventListener("click",v),e.removeEventListener("keydown",b),e.removeEventListener("mouseenter",L),e.removeEventListener("mouseleave",P),e.removeEventListener("focusin",L),e.removeEventListener("focusout",P),n.removeEventListener("mousedown",C),window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",j),n.removeEventListener("touchstart",C),n.removeEventListener("touchmove",A),n.removeEventListener("touchend",j)},e._destroyGallery}("#gallery"),H(t)):B(" Gallery DOM not ready - viewport or track missing")}}(),function(){const t=document.querySelector("#artists");t&&!F(t)&&(B(" initArtists"),A(),H(t))}(),function(){const t=document.querySelector(".form--contact");t&&!F(t)&&(B(" initForm"),function(){const t=document.querySelector(".form--contact");if(!t)return;const e=document.getElementById("name"),i=document.getElementById("email"),n=document.getElementById("phone"),o=document.getElementById("message"),s=document.querySelector(".form__submit");if(!(e&&i&&n&&o&&s))return;function r(t){const e=a();return{pl:{"contacts.form.errors.nameRequired":"Imi i nazwisko jest wymagane","contacts.form.errors.contactRequired":"Prosz poda adres email lub numer telefonu","contacts.form.errors.messageRequired":"Wiadomo jest wymagana","contacts.form.errors.success":"Formularz zosta wysany pomylnie!","contacts.form.errors.emailInvalid":"Prosz poda poprawny adres email"},en:{"contacts.form.errors.nameRequired":"Full name is required","contacts.form.errors.contactRequired":"Please provide email or phone number","contacts.form.errors.messageRequired":"Message is required","contacts.form.errors.success":"Form submitted successfully!","contacts.form.errors.emailInvalid":"Please provide a valid email address"}}[e]?.[t]||t}function l(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function c(t){t.style.animation="slideOutUp 0.3s ease",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t);const e=document.querySelector(".form-notifications");e&&0===e.children.length&&e.parentNode.removeChild(e)},300)}window.showNotification=function(t,e="error"){const i=function(){let t=document.querySelector(".form-notifications");return t||(t=document.createElement("div"),t.className="form-notifications",t.style.cssText="\n                position: absolute;\n                bottom: 100%;\n                left: 50%;\n                transform: translateX(-50%);\n                z-index: 1000;\n                display: flex;\n                flex-direction: column;\n                gap: 8px;\n                margin-bottom: 15px;\n                min-width: 300px;\n                max-width: 400px;\n                pointer-events: none;\n            ",s.parentNode.insertBefore(t,s)),t}(),n=document.createElement("div");n.className=`form-notification form-notification--${e}`,n.style.cssText=`\n            background: ${"error"===e?"rgba(255, 77, 79, 0.95)":"rgba(82, 196, 26, 0.95)"};\n            color: white;\n            padding: 12px 16px;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            font-weight: 500;\n            font-size: 14px;\n            line-height: 1.4;\n            animation: slideInDown 0.3s ease;\n            backdrop-filter: blur(10px);\n            border: 1px solid ${"error"===e?"rgba(255, 77, 79, 0.3)":"rgba(82, 196, 26, 0.3)"};\n            text-align: center;\n            pointer-events: auto;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            position: relative;\n        `;const o=document.createElement("div");o.style.cssText=`\n            position: absolute;\n            bottom: -6px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 0;\n            height: 0;\n            border-left: 6px solid transparent;\n            border-right: 6px solid transparent;\n            border-top: 6px solid ${"error"===e?"rgba(255, 77, 79, 0.95)":"rgba(82, 196, 26, 0.95)"};\n        `,n.textContent=t,n.appendChild(o),i.appendChild(n);const r=setTimeout(()=>{c(n)},5e3);n.addEventListener("click",()=>{clearTimeout(r),c(n)}),n.addEventListener("mouseenter",()=>{n.style.transform="translateY(-2px)",n.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.2)"}),n.addEventListener("mouseleave",()=>{n.style.transform="translateY(0)",n.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"})},t.addEventListener("submit",function(t){t.preventDefault();const s=function(){const t=[];if(""===e.value.trim()){const e=r("contacts.form.errors.nameRequired");t.push(e)}const s=i.value.trim(),a=n.value.trim();if(""===s&&""===a){const e=r("contacts.form.errors.contactRequired");t.push(e)}if(s&&!l(s)){const e=r("contacts.form.errors.emailInvalid");t.push(e)}if(""===o.value.trim()){const e=r("contacts.form.errors.messageRequired");t.push(e)}return{isValid:0===t.length,errors:t}}();s.isValid||s.errors.forEach(t=>{window.showNotification(t,"error")})});const h=document.createElement("style");h.textContent="\n        @keyframes slideInDown {\n            from { \n                opacity: 0; \n                transform: translateY(-20px); \n            }\n            to { \n                opacity: 1; \n                transform: translateY(0); \n            }\n        }\n        \n        @keyframes slideOutUp {\n            from { \n                opacity: 1; \n                transform: translateY(0); \n            }\n            to { \n                opacity: 0; \n                transform: translateY(-20px); \n            }\n        }\n    ",document.head.appendChild(h),i&&i.addEventListener("blur",function(){const t=this.value.trim();t&&!l(t)?(this.setCustomValidity("Please enter a valid email address"),this.reportValidity()):this.setCustomValidity("")}),t.querySelectorAll("[required]").forEach(t=>{t.addEventListener("blur",function(){this.value.trim()?this.setCustomValidity(""):(this.setCustomValidity("This field is required"),this.reportValidity())})}),t.querySelectorAll("input, textarea").forEach(t=>{t.addEventListener("input",function(){this.setCustomValidity("")})}),new I(t)}(),H(t))}(),await async function(){const t=document.querySelector(".flesh");if(t&&!F(t))try{B(" initFlesh"),Z&&"function"==typeof Z.init?(await Z.init(),H(t),B(" Flesh initialized successfully")):(console.error(" fleshRenderer not available or missing init method"),H(t))}catch(e){console.error(" Error initializing Flesh:",e),H(t)}}(),R=!0,B(" All components initialized successfully")}catch(t){console.error(" Error during components initialization:",t),R=!1}}}async function $(){R||q||(q=!0,B(" Backup initialization after timeout"),await W())}document.addEventListener("partialsLoaded",async()=>{if(B(" Partials loaded event received"),!R)try{l(D),await W()}catch(t){console.error(" Error during partials initialization:",t)}}),setTimeout($,2e3),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",$):$(),document.addEventListener("DOMContentLoaded",async()=>{console.log(" DOM loaded - starting application"),await(async(t=!1)=>{if(g&&!t)return void console.log("[HTML-LOADER] Partials already loaded");localStorage.getItem("lang"),console.log("[HTML-LOADER]  Loading HTML partials...");const e={header:document.querySelector("header[data-html], .header"),intro:document.querySelector('section[data-html*="intro"], .intro'),proliveevents:document.querySelector('section[data-html*="proliveevents"], .proliveevents'),flesh:document.querySelector('section[data-html*="flesh"], .flesh'),gallery:document.querySelector('section[data-html*="gallery"], .gallery'),artists:document.querySelector('section[data-html*="artists"], .artists'),contacts:document.querySelector('section[data-html*="contacts"], .contacts'),footer:document.querySelector("footer[data-html], .footer")};try{e.header&&c&&(e.header.innerHTML=c,console.log("[HTML-LOADER]  Header loaded")),e.intro&&h&&(e.intro.innerHTML=h,console.log("[HTML-LOADER]  Intro loaded")),e.proliveevents&&d&&(e.proliveevents.innerHTML=d,console.log("[HTML-LOADER]  ProLiveEvents loaded")),e.flesh&&u&&(e.flesh.innerHTML=u,console.log("[HTML-LOADER]  Flesh loaded")),e.gallery&&p&&(e.gallery.innerHTML=p,console.log("[HTML-LOADER]  Gallery loaded")),e.artists&&m&&(e.artists.innerHTML=m,console.log("[HTML-LOADER]  Artists loaded")),e.contacts&&_&&(e.contacts.innerHTML=_,console.log("[HTML-LOADER]  Contacts loaded")),e.footer&&f&&(e.footer.innerHTML=f,console.log("[HTML-LOADER]  Footer loaded")),t||(g=!0);const i=new CustomEvent("partialsLoaded");document.dispatchEvent(i),console.log("[HTML-LOADER]  All HTML partials loaded successfully")}catch(t){console.error("[HTML-LOADER]  Error loading HTML partials:",t)}})(),W()})})()})();
//# sourceMappingURL=main.cb3b3600.js.map